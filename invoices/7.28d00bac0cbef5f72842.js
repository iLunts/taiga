(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{gaCD:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("j+be"),o=n("2Vo4"),r=n("Cfvw"),a=n("fXoL"),s=n("I/3d"),c=n("lGQG"),d=n("OC8m");let l=(()=>{class e{constructor(e,t,n){this._fs=e,this._auth=t,this._notification=n,this.dbPath="/contractors",this.customersRef=null,this.customersExistRef=null,this.dbRef=null,this.contractor$=new o.a(new i.d),this._auth.isLoggedIn&&(this.customersRef=this._fs.collection(this.dbPath,e=>e.where("_userId","==",this._auth.getUserId())))}getAll$(){return this.customersRef.valueChanges()}getById$(e){return this._fs.collection(this.dbPath,t=>t.where("_userId","==",this._auth.getUserId()).where("_id","==",e)).valueChanges()}checkExistContactorByUNP(e){return this._fs.collection(this.dbPath,t=>t.where("_userId","==",this._auth.getUserId()).where("info.unp","==",e)).valueChanges()}add$(e){const t=this._fs.createId();return e._id=t,e._userId=this._auth.getUserId(),Object(r.a)(this._fs.collection(this.dbPath).doc(t).set(JSON.parse(JSON.stringify(e))).then(()=>{this._notification.success("\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d")}))}delete$(e){return Object(r.a)(this.customersRef.doc(e).delete().then(()=>{this._notification.success("\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0451\u043d")}))}update(e,t){return this.customersRef.doc(e).update(t)}getContractorState$(){return this.contractor$.asObservable()}setContractor(e){this.contractor$.next(e)}getContractor(){return this.contractor$.getValue()}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.a),a["\u0275\u0275inject"](c.a),a["\u0275\u0275inject"](d.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"t+Hl":function(e,t,n){"use strict";n.r(t),n.d(t,"ContractorModule",(function(){return Se}));var i=n("ofXK"),o=n("3Pt+"),r=n("kqZG"),a=n("GQI6"),s=n("fXoL"),c=n("akRu"),d=n("qRik"),l=n("7iOb"),u=n("2Q0Y"),h=n("LenD"),p=n("2aHb"),m=n("hPTC"),g=n("l4e0");let f=(()=>{let e=class{constructor(e,t){this.element=e,this.renderer=t,this.tuiCheckedChange=new s.EventEmitter,this.updateProperty("checked",!1)}set tuiChecked(e){this.updateProperty("checked",e||!1),this.updateProperty("indeterminate",null===e)}onChange({checked:e}){this.updateProperty("indeterminate",!1),this.tuiCheckedChange.emit(e)}updateProperty(e,t){this.renderer.setProperty(this.element.nativeElement,e,t)}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](s.ElementRef),s["\u0275\u0275directiveInject"](s.Renderer2))},e.\u0275dir=s["\u0275\u0275defineDirective"]({type:e,selectors:[["input","tuiChecked",""],["input","tuiCheckedChange",""]],hostBindings:function(e,t){1&e&&s["\u0275\u0275listener"]("change",(function(e){return t.onChange(e.target)}))},inputs:{tuiChecked:"tuiChecked"},outputs:{tuiCheckedChange:"tuiCheckedChange"}}),e})(),v=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();var C=n("PIpu"),b=n("4TLE"),x=n("lD5H"),y=n("jzak"),_=n("6AEW");function k(e,t){if(1&e&&s["\u0275\u0275element"](0,"tui-svg",2),2&e){const e=t.$implicit,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275classProp"]("mark_on",!n.empty),s["\u0275\u0275property"]("src",e)}}const O={size:"m",appearances:{unchecked:"outline",checked:"primary",indeterminate:"primary"},icons:{checked:({$implicit:e})=>"m"===e?"tuiIconCheck":"tuiIconCheckLarge",indeterminate:({$implicit:e})=>"m"===e?"tuiIconMinus":"tuiIconMinusLarge"}},P=new s.InjectionToken("Default parameters for checkbox component",{factory:()=>O});let w=(()=>{let e=class{constructor(e){this.options=e,this.size=this.options.size,this.disabled=!1,this.focused=!1,this.hovered=!1,this.pressed=!1,this.invalid=!1,this.value=!1}get appearance(){switch(this.value){case!1:return this.options.appearances.unchecked;case!0:return this.options.appearances.checked;default:return this.options.appearances.indeterminate}}get empty(){return!1===this.value}get icon(){return null===this.value?this.options.icons.indeterminate:this.options.icons.checked}get context(){return this.getContext(this.size)}getContext(e){return{$implicit:e}}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](P))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-primitive-checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&s["\u0275\u0275attribute"]("data-tui-host-size",t.size)},inputs:{size:"size",disabled:"disabled",focused:"focused",hovered:"hovered",pressed:"pressed",invalid:"invalid",value:"value"},decls:3,vars:8,consts:[[3,"appearance","disabled","focused","hovered","pressed","invalid"],["polymorpheus-outlet","",3,"content","context"],[1,"mark",3,"src"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"tui-wrapper",0),s["\u0275\u0275elementStart"](1,"span",1),s["\u0275\u0275template"](2,k,1,3,"ng-template"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("appearance",t.appearance)("disabled",t.disabled)("focused",t.focused)("hovered",t.hovered)("pressed",t.pressed)("invalid",t.invalid),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("content",t.icon)("context",t.context))},directives:[g.a,_.d,y.a],styles:["[_nghost-%COMP%]{display:block;font-size:0}[data-tui-host-size='m'][_nghost-%COMP%]{width:16px;height:16px;border-radius:var(--tui-radius-xs)}[data-tui-host-size='l'][_nghost-%COMP%]{width:24px;height:24px;border-radius:var(--tui-radius-s)}.mark[_ngcontent-%COMP%]{transition-property:transform;transition-duration:.3s;transition-timing-function:ease-in-out;display:block;width:100%;height:100%;transform:scale(0)}.mark_on[_ngcontent-%COMP%]{transform:scale(1)}"],changeDetection:0}),Object(a.a)([Object(u.a)()],e.prototype,"size",void 0),Object(a.a)([Object(u.a)()],e.prototype,"disabled",void 0),Object(a.a)([Object(u.a)()],e.prototype,"focused",void 0),Object(a.a)([Object(u.a)()],e.prototype,"hovered",void 0),Object(a.a)([Object(u.a)()],e.prototype,"pressed",void 0),Object(a.a)([Object(u.a)()],e.prototype,"invalid",void 0),Object(a.a)([Object(u.a)()],e.prototype,"value",void 0),Object(a.a)([u.b],e.prototype,"getContext",null),e})(),M=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[y.b,g.b,_.c]]}),e})();const I=["focusableElement"];var E;let j=(()=>{let e=E=class extends c.d{constructor(e,t,n){super(e,n),this.options=t,this.size=this.options.size}get nativeFocusableElement(){return!this.focusableElement||this.computedDisabled?null:this.focusableElement.nativeElement}get focused(){return Object(d.d)(this.nativeFocusableElement)}get computedFocusable(){return!this.computedDisabled&&!this.readOnly&&this.focusable}onChecked(e){this.updateValue(e)}onFocused(e){this.updateFocused(e)}onHovered(e){this.updateHovered(e)}onPressed(e){this.updatePressed(e)}onFocusVisible(e){this.updateFocusVisible(e)}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.NgControl,10),s["\u0275\u0275directiveInject"](P),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-checkbox"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](I,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.focusableElement=n.first)},hostVars:1,hostBindings:function(e,t){2&e&&s["\u0275\u0275attribute"]("data-tui-host-size",t.size)},inputs:{size:"size"},features:[s["\u0275\u0275ProvidersFeature"]([{provide:l.c,useExisting:Object(s.forwardRef)(()=>E)}]),s["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:11,consts:[[3,"size","disabled","focused","hovered","pressed","invalid","value"],["type","checkbox","automation-id","tui-checkbox__native",1,"native",3,"disabled","id","tuiChecked","tuiFocusable","tuiFocusedChange","tuiHoveredChange","tuiPressedChange","tuiCheckedChange","tuiFocusVisibleChange"],["focusableElement",""]],template:function(e,t){1&e&&(s["\u0275\u0275element"](0,"tui-primitive-checkbox",0),s["\u0275\u0275elementStart"](1,"input",1,2),s["\u0275\u0275listener"]("tuiFocusedChange",(function(e){return t.onFocused(e)}))("tuiHoveredChange",(function(e){return t.onHovered(e)}))("tuiPressedChange",(function(e){return t.onPressed(e)}))("tuiCheckedChange",(function(e){return t.onChecked(e)}))("tuiFocusVisibleChange",(function(e){return t.onFocusVisible(e)})),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("size",t.size)("disabled",t.disabled)("focused",t.computedFocusVisible)("hovered",t.computedHovered)("pressed",t.computedPressed)("invalid",t.computedInvalid)("value",t.value),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("disabled",t.disabled)("id",t.id)("tuiChecked",t.value)("tuiFocusable",t.computedFocusable))},directives:[w,f,C.a,b.a,h.a,p.a,x.a],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:block;flex-shrink:0}[data-tui-host-size='m'][_nghost-%COMP%]{width:16px;height:16px}[data-tui-host-size='l'][_nghost-%COMP%]{width:24px;height:24px}.native[_ngcontent-%COMP%]{padding:0;border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.native[_ngcontent-%COMP%]:-webkit-autofill, .native[_ngcontent-%COMP%]:-webkit-autofill:focus, .native[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;-webkit-text-fill-color:inherit!important;color:inherit!important;background-color:transparent!important;-webkit-box-shadow:0 0 0 1000px var(--tui-autofill) inset!important}._disabled[_nghost-%COMP%]   .native[_ngcontent-%COMP%], ._readonly[_nghost-%COMP%]   .native[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),Object(a.a)([Object(u.a)()],e.prototype,"size",void 0),e})(),S=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,v,C.b,b.b,h.b,p.b,x.b,M]]}),e})();const z=["*"];var F;let V=(()=>{let e=F=class extends c.d{constructor(e,t,n){super(e,t),this.modeDirective=n,this.contentAlign="right",this.hideCheckbox=!1,this.size="l"}get nativeFocusableElement(){return this.checkbox?this.checkbox.nativeFocusableElement:null}get checked(){return!1!==this.value&&this.hideCheckbox}get checkboxSize(){return"l"===this.size?"l":"m"}get focused(){return Object(d.d)(this.nativeFocusableElement)}get appearance(){return this.modeDirective&&this.modeDirective.mode?this.checked?"primary":"secondary":this.checked?"whiteblock-active":"whiteblock"}onFocused(e){this.updateFocused(e)}onHovered(e){this.updateHovered(e)}onPressed(e){this.updatePressed(e)}onFocusVisible(e){this.updateFocusVisible(e)}onModelChange(e){this.updateValue(e)}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.NgControl,10),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](m.a,8))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-checkbox-block"]],viewQuery:function(e,t){var n;1&e&&s["\u0275\u0275viewQuery"](j,!0),2&e&&s["\u0275\u0275queryRefresh"](n=s["\u0275\u0275loadQuery"]())&&(t.checkbox=n.first)},hostVars:6,hostBindings:function(e,t){2&e&&(s["\u0275\u0275attribute"]("data-tui-host-align",t.contentAlign)("data-tui-host-size",t.size),s["\u0275\u0275classProp"]("_hidden_checkbox",t.hideCheckbox)("_active",t.checked))},inputs:{contentAlign:"contentAlign",hideCheckbox:"hideCheckbox",size:"size"},features:[s["\u0275\u0275ProvidersFeature"]([{provide:l.c,useExisting:Object(s.forwardRef)(()=>F)}]),s["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:z,decls:7,vars:15,consts:[[1,"wrapper",3,"tuiHoveredChange","tuiPressedChange"],[3,"appearance","disabled","focused","hovered","pressed","invalid"],[1,"content-wrapper"],[1,"content"],[1,"view",3,"disabled","nativeId","pseudoInvalid","pseudoFocused","pseudoHovered","pseudoPressed","size","focusable","ngModel","ngModelChange","focusedChange","focusVisibleChange"],[1,"label"]],template:function(e,t){1&e&&(s["\u0275\u0275projectionDef"](),s["\u0275\u0275elementStart"](0,"label",0),s["\u0275\u0275listener"]("tuiHoveredChange",(function(e){return t.onHovered(e)}))("tuiPressedChange",(function(e){return t.onPressed(e)})),s["\u0275\u0275elementStart"](1,"tui-wrapper",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275elementStart"](3,"div",3),s["\u0275\u0275elementStart"](4,"tui-checkbox",4),s["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onModelChange(e)}))("focusedChange",(function(e){return t.onFocused(e)}))("focusVisibleChange",(function(e){return t.onFocusVisible(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",5),s["\u0275\u0275projection"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("appearance",t.appearance)("disabled",t.computedDisabled)("focused",t.computedFocusVisible)("hovered",t.computedHovered)("pressed",t.computedPressed)("invalid",t.computedInvalid),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("disabled",t.computedDisabled||t.readOnly)("nativeId",t.nativeId)("pseudoInvalid",t.computedInvalid)("pseudoFocused",!1)("pseudoHovered",t.computedHovered)("pseudoPressed",t.computedPressed)("size",t.checkboxSize)("focusable",t.focusable)("ngModel",t.value))},directives:[h.a,p.a,g.a,j,o.NgControlStatus,o.NgModel],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);display:inline-block;vertical-align:top;border-radius:var(--tui-radius-m)}[data-tui-host-size='l'][_nghost-%COMP%], [data-tui-host-size='m'][_nghost-%COMP%]{font:var(--tui-font-text-m)}._disabled[_nghost-%COMP%], ._readonly[_nghost-%COMP%]{pointer-events:none}.tui-group_collapsed[_nghost-%COMP%]:not(:last-child), .tui-group_collapsed   [_nghost-%COMP%]:not(:last-child){margin-right:-2px}.tui-group_collapsed.tui-group_orientation_vertical[_nghost-%COMP%]:not(:last-child), .tui-group_collapsed.tui-group_orientation_vertical   [_nghost-%COMP%]:not(:last-child){margin-bottom:-2px;margin-right:0}.wrapper[_ngcontent-%COMP%]{position:relative;border-radius:inherit;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}[data-tui-host-size='s'][_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{min-height:var(--tui-height-s)}[data-tui-host-size='m'][_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{min-height:var(--tui-height-m)}[data-tui-host-size='l'][_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{min-height:var(--tui-height-l)}.content[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:inherit}[data-tui-host-align=right][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{flex-direction:row-reverse}[data-tui-host-size='s'][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 16px 0 8px}[data-tui-host-size='s'][data-tui-host-align=right][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 8px 0 16px}[data-tui-host-size='s']._hidden_checkbox[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 16px}[data-tui-host-size='m'][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 16px 0 12px}[data-tui-host-size='m'][data-tui-host-align=right][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 12px 0 16px}[data-tui-host-size='m']._hidden_checkbox[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 24px}[data-tui-host-size='l'][_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 16px}[data-tui-host-size='l']._hidden_checkbox[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 36px}.view[_ngcontent-%COMP%]{margin-top:12px;margin-right:12px;align-self:flex-start}[data-tui-host-align=right][_nghost-%COMP%]   .view[_ngcontent-%COMP%]{margin-left:12px;margin-right:0}[data-tui-host-size='s'][_nghost-%COMP%]   .view[_ngcontent-%COMP%]{margin-top:8px;margin-right:8px}[data-tui-host-size='s'][data-tui-host-align=right][_nghost-%COMP%]   .view[_ngcontent-%COMP%]{margin-left:8px}[data-tui-host-size='m'][_nghost-%COMP%]   .view[_ngcontent-%COMP%]{margin-top:14px}[data-tui-host-size='l'][_nghost-%COMP%]   .view[_ngcontent-%COMP%]{margin-top:16px}._hidden_checkbox[_nghost-%COMP%]   .view[_ngcontent-%COMP%]{position:absolute;height:1px;width:1px;margin:-1px;border:0;padding:0;overflow:hidden;clip:rect(0,0,0,0);-webkit-clip-path:inset(0);clip-path:inset(0)}.label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1}._hidden_checkbox[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),Object(a.a)([Object(u.a)()],e.prototype,"contentAlign",void 0),Object(a.a)([Object(u.a)()],e.prototype,"hideCheckbox",void 0),Object(a.a)([Object(u.a)()],e.prototype,"size",void 0),e})(),N=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.FormsModule,h.b,p.b,S,g.b]]}),e})();var D=n("M0+2"),$=n("Gqza"),A=n("snLG"),B=n("bU3b");const R=function(){return{}};function H(e,t){if(1&e&&(s["\u0275\u0275element"](0,"div",1),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275pipe"](2,"async")),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275classProp"]("message-text_light","onDark"===s["\u0275\u0275pipeBind1"](1,6,e.mode$)),s["\u0275\u0275property"]("content",e.error.message||s["\u0275\u0275pipeBind1"](2,8,e.defauleErrorMessage$))("context",e.error.context||s["\u0275\u0275pureFunction0"](10,R))("@tuiHeightCollapse",void 0)("@tuiFadeIn",void 0)}}let G=(()=>{let e=class{constructor(e,t){this.mode$=e,this.defauleErrorMessage$=t,this.error=null}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](B.j),s["\u0275\u0275directiveInject"](B.e))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-error"]],inputs:{error:"error"},features:[s["\u0275\u0275ProvidersFeature"]([A.a])],decls:1,vars:1,consts:[["polymorpheus-outlet","","automation-id","tui-error__text","class","message-text",3,"message-text_light","content","context",4,"ngIf"],["polymorpheus-outlet","","automation-id","tui-error__text",1,"message-text",3,"content","context"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,H,3,11,"div",0),2&e&&s["\u0275\u0275property"]("ngIf",!!t.error)},directives:[i.m,_.d],pipes:[i.b],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);display:block;color:var(--tui-negative);word-wrap:break-word}.message-text[_ngcontent-%COMP%]{margin-top:4px;white-space:pre-wrap}.message-text_light[_ngcontent-%COMP%]{color:var(--tui-negative-night)}"],data:{animation:[$.d,$.b]},changeDetection:0}),Object(a.a)([Object(u.a)()],e.prototype,"error",void 0),e})(),T=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,_.c]]}),e})();var L=n("h05a"),U=n("XNiG"),Q=n("1G5W");let q=(()=>{let e=class{constructor(e,t,n,i,o,r){this.ngControl=e,this.formArrayName=t,this.formGroupName=n,this.formGroup=i,this.changeDetectorRef=o,this.validationErrors=r,this.firstError=null,this.errorsOrder=[],this.destroy$=new U.a,D.b.assert(!!this.ngControl,`NgControl not injected in ${this.constructor.name}! Use [(ngModel)] or [formControl] or formControlName for correct work.`),this.ngControl&&(this.ngControl.valueAccessor=this)}set order(e){this.errorsOrder=e,this.updateErrorText()}ngOnInit(){const e=this.control;e&&(e.asyncValidator&&e.updateValueAndValidity(),this.updateErrorText(),e.statusChanges.pipe(Object(Q.a)(this.destroy$)).subscribe(()=>{this.updateErrorText()}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get computedError(){return this.invalid&&this.touched&&this.firstError?this.firstError:null}get invalid(){const e=this.control;return!(!e||null===e.invalid)&&e.invalid}get touched(){const e=this.control;return!(!e||null===e.touched)&&e.touched}get control(){return this.ngControl?this.ngControl.control:this.formArrayName?this.formArrayName.control:this.formGroupName?this.formGroupName.control:this.formGroup?this.formGroup.control:null}registerOnChange(){this.markForCheck()}registerOnTouched(){this.markForCheck()}setDisabledState(){this.markForCheck()}writeValue(){this.markForCheck()}get firstErrorIdByOrder(){return this.errorsOrder&&this.errorsOrder.find(e=>!!this.controlErrors[e])||null}get firstErrorId(){return Object.keys(this.controlErrors)[0]}get controlErrors(){const e=this.control;return e&&e.errors||{}}updateErrorText(){this.firstError=this.getErrorText()}getErrorText(){const e=this.firstErrorIdByOrder||this.firstErrorId,t=e&&this.controlErrors[e];return t&&(t instanceof D.a||"string"==typeof t.message)?t:e?new D.a(this.validationErrors[e],t):null}markForCheck(){this.changeDetectorRef.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](o.NgControl,10),s["\u0275\u0275directiveInject"](o.FormArrayName,10),s["\u0275\u0275directiveInject"](o.FormGroupName,10),s["\u0275\u0275directiveInject"](o.FormGroupDirective,10),s["\u0275\u0275directiveInject"](s.ChangeDetectorRef),s["\u0275\u0275directiveInject"](L.i))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-field-error"]],inputs:{order:"order"},decls:1,vars:1,consts:[[3,"error"]],template:function(e,t){1&e&&s["\u0275\u0275element"](0,"tui-error",0),2&e&&s["\u0275\u0275property"]("error",t.computedError)},directives:[G],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[$.d,$.b]}}),Object(a.a)([Object(u.c)()],e.prototype,"order",null),e})(),J=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,o.ReactiveFormsModule,T]]}),e})();var X=n("m1/c"),W=n("yPFk");let Z=(()=>{let e=class{};return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,b.b,C.b,h.b,p.b,x.b,v,g.b,y.b,W.b]]}),e})();var K=n("q9Vr"),Y=n("tyNb"),ee=n("j+be"),te=n("I/3d"),ne=n("gaCD"),ie=n("ZtWP"),oe=n("J0k7"),re=n("fu6R"),ae=n("NEux"),se=n("904P"),ce=n("y3l0"),de=n("yis4"),le=n("n6v2");function ue(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"tui-input",10),s["\u0275\u0275listener"]("change",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().getContractorInformation()})),s["\u0275\u0275text"](1," \u0423\u041d\u041f "),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("textMask",e.maskUNP)}}function he(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"app-company-panel",11),s["\u0275\u0275listener"]("change",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().changeCompany()})),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",e.contractor)("isLoaded",e.isValidCompany)}}function pe(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"app-bank-select",12),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().changeBank(t)})),s["\u0275\u0275elementEnd"]()}}function me(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"app-bank-panel",11),s["\u0275\u0275listener"]("change",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().changeBank()})),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275property"]("data",e.contractor.bankAccount.bank)("isLoaded",e.isValidBank)}}let ge=(()=>{class e{constructor(e,t,n,i,o,r){this.afs=e,this.formBuilder=t,this.contractorService=n,this.companyService=i,this.egrService=o,this.bankService=r,this.close=new s.EventEmitter,this.contractor=new ee.d,this.maskUNP={guide:!1,modelClean:!0,mask:[/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/]}}ngOnInit(){this.setupForm(),this.companyService.getCompanyState$().subscribe(e=>{console.log("Company State$: ",e),this.contractor=e,this.checkValid()})}setupForm(){this.form=this.formBuilder.group({unp:new o.FormControl(null,[o.Validators.required]),bic:new o.FormControl(null,[o.Validators.required]),samePostMail:new o.FormControl(!1)})}save(){this.contractorService.add$(this.contractor).subscribe(()=>{this.cancel()})}cancel(){this.companyService.clearCompany(),this.close.emit(!0)}getContractorInformation(){this.form.controls.unp.value&&this.egrService.getAllByUnp(this.form.controls.unp.value.replace(/ /g,""))}changeCompany(){this.companyService.clearCompanyInfo(),this.form.controls.unp.setValue(null),this.checkValid()}changeBank(e){this.contractor&&e&&e.CDBank?this.contractor.bankAccount.bank=e:this.companyService.clearCompanyBank(),this.companyService.setCompany(this.contractor),this.checkValid()}changePostAddress(){this.form.controls.samePostMail.value?(this.contractor.mailingAddress=this.contractor.juridicalAddress,this.companyService.setCompany(this.contractor)):this.companyService.clearMailingAddress()}checkValid(){this.isValidCompany=this.companyService.isCompanyInfoValid(this.contractor),this.isValidBank=this.companyService.isCompanyBankValid(this.contractor),this.isValid=this.companyService.isCompanyValid(this.contractor),this.isValidCompany?this.form.controls.samePostMail.enable():this.form.controls.samePostMail.disable()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](te.a),s["\u0275\u0275directiveInject"](o.FormBuilder),s["\u0275\u0275directiveInject"](ne.a),s["\u0275\u0275directiveInject"](ie.a),s["\u0275\u0275directiveInject"](oe.a),s["\u0275\u0275directiveInject"](re.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-contractor-create"]],outputs:{close:"close"},decls:22,vars:10,consts:[[3,"formGroup"],[1,"tui-space_top-10"],["formControlName","unp",3,"textMask","change",4,"ngIf"],["formControlName","unp"],[3,"data","isLoaded","change",4,"ngIf"],["formControlName","samePostMail","contentAlign","left","nativeId","exSamePostMail","size","l",1,"tui-space_top-5",3,"change"],[1,"inner","inner_flex"],[3,"change",4,"ngIf"],["tuiButton","","type","button","appearance","secondary",1,"tui-space_right-3",3,"showLoader","size","click"],["tuiButton","","type","button",3,"showLoader","size","disabled","click"],["formControlName","unp",3,"textMask","change"],[3,"data","isLoaded","change"],[3,"change"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"form",0),s["\u0275\u0275elementStart"](1,"h2"),s["\u0275\u0275text"](2,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"section"),s["\u0275\u0275elementStart"](4,"h3",1),s["\u0275\u0275text"](5,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,ue,2,1,"tui-input",2),s["\u0275\u0275element"](7,"tui-field-error",3),s["\u0275\u0275template"](8,he,1,2,"app-company-panel",4),s["\u0275\u0275elementStart"](9,"tui-checkbox-block",5),s["\u0275\u0275listener"]("change",(function(){return t.changePostAddress()})),s["\u0275\u0275elementStart"](10,"div",6),s["\u0275\u0275text"](11," \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u044e\u0440\u0438\u0434. "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"section"),s["\u0275\u0275elementStart"](13,"h3",1),s["\u0275\u0275text"](14,"\u0411\u0430\u043d\u043a"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](15,pe,1,0,"app-bank-select",7),s["\u0275\u0275template"](16,me,1,2,"app-bank-panel",4),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"section",1),s["\u0275\u0275elementStart"](18,"button",8),s["\u0275\u0275listener"]("click",(function(){return t.cancel()})),s["\u0275\u0275text"](19," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"button",9),s["\u0275\u0275listener"]("click",(function(){return t.save()})),s["\u0275\u0275text"](21," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("formGroup",t.form),s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",!t.isValidCompany),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.isValidCompany),s["\u0275\u0275advance"](7),s["\u0275\u0275property"]("ngIf",!t.isValidBank),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",t.isValidBank),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("showLoader",!1)("size","m"),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("showLoader",!1)("size","m")("disabled",!t.isValid))},directives:[o["\u0275angular_packages_forms_forms_y"],o.NgControlStatusGroup,o.FormGroupDirective,i.m,q,o.NgControlStatus,o.FormControlName,V,ae.a,X.a,se.MaskedInputDirective,ce.a,de.a,le.a],styles:[""]}),e})();var fe=n("AytR"),ve=n("+Co2");function Ce(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",16),s["\u0275\u0275text"](1,"\u0423\u041d\u041f"),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("resizable",!0)}function be(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"th",16),s["\u0275\u0275text"](1,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("resizable",!0)}function xe(e,t){1&e&&s["\u0275\u0275element"](0,"th",16),2&e&&s["\u0275\u0275property"]("resizable",!1)}function ye(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",19),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",null==e||null==e.info?null:e.info.unp," ")}}function _e(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"td",19),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]().$implicit;s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",null==e||null==e.info?null:e.info.shortName," ")}}function ke(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"td",19),s["\u0275\u0275elementStart"](1,"button",20),s["\u0275\u0275listener"]("click",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275nextContext"]().$implicit;return s["\u0275\u0275nextContext"](2).delete(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function Oe(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"tr",17),s["\u0275\u0275template"](1,ye,2,1,"td",18),s["\u0275\u0275template"](2,_e,2,1,"td",18),s["\u0275\u0275template"](3,ke,2,0,"td",18),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("tuiCell","unp"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("tuiCell","name"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("tuiCell","action"))}function Pe(e,t){if(1&e&&(s["\u0275\u0275elementContainerStart"](0),s["\u0275\u0275elementStart"](1,"table",11),s["\u0275\u0275elementStart"](2,"thead"),s["\u0275\u0275elementStart"](3,"tr",12),s["\u0275\u0275template"](4,Ce,2,1,"th",13),s["\u0275\u0275template"](5,be,2,1,"th",13),s["\u0275\u0275template"](6,xe,1,1,"th",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"tbody",14),s["\u0275\u0275template"](8,Oe,4,3,"tr",15),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf,n=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("columns",n.columns),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("tuiHead","unp"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("tuiHead","name"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("tuiHead","action"),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("data",e),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("tuiRowOf",e)}}function we(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"aside",21),s["\u0275\u0275elementStart"](1,"app-contractor-create",22),s["\u0275\u0275listener"]("close",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().toggleAsideContractorCreate()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}const Me=[{path:"",component:(()=>{class e{constructor(e){this.contractorService=e,this.columns=["unp","name","action"],this.routing=fe.a.routing}ngOnInit(){this.fetch()}fetch(){this.contractors$=this.contractorService.getAll$()}delete(e){e&&this.contractorService.delete$(e._id)}toggleAsideContractorCreate(){this.isOpenAsideContractorCreate=!this.isOpenAsideContractorCreate}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](ne.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-contractor-list"]],decls:14,vars:5,consts:[[1,"header"],[1,"header__top"],[1,"header__account"],["text","\u0420\u043e\u043c\u0430\u043d \u041b\u0443\u043d\u0446\u0435\u0432\u0438\u0447","size","m",1,"tui-space_right-3",3,"rounded"],[1,"header__account-name"],[1,"tui-text_h6"],[1,"tui-text_body-s"],[1,"header__action"],["tuiIconButton","","size","m","icon","tuiIconPlusLarge","title","Add new invoice","shape","rounded",1,"tui-space_left-10",3,"click"],[4,"ngIf"],["class","aside _right _close",4,"ngIf"],["tuiTable","",3,"columns"],["tuiThGroup",""],["tuiTh","",3,"resizable",4,"tuiHead"],["tuiTbody","",3,"data"],["tuiTr","",4,"tuiRow","tuiRowOf"],["tuiTh","",3,"resizable"],["tuiTr",""],["tuiTd","",4,"tuiCell"],["tuiTd",""],["tuiIconButton","","appearance","flat","size","s","icon","tuiIconTrash","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","shape","rounded",3,"click"],[1,"aside","_right","_close"],[3,"close"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",0),s["\u0275\u0275elementStart"](1,"div",1),s["\u0275\u0275elementStart"](2,"div",2),s["\u0275\u0275element"](3,"tui-avatar",3),s["\u0275\u0275elementStart"](4,"div",4),s["\u0275\u0275elementStart"](5,"span",5),s["\u0275\u0275text"](6,"\u0418\u041f \u041b\u0443\u043d\u0446\u0435\u0432\u0438\u0447 \u0420.\u0412."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"span",6),s["\u0275\u0275text"](8,"\u0423\u041d\u041f: 123 123 123"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",7),s["\u0275\u0275elementStart"](10,"button",8),s["\u0275\u0275listener"]("click",(function(){return t.toggleAsideContractorCreate()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](11,Pe,9,6,"ng-container",9),s["\u0275\u0275pipe"](12,"async"),s["\u0275\u0275template"](13,we,2,0,"aside",10)),2&e&&(s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("rounded",!0),s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",s["\u0275\u0275pipeBind1"](12,3,t.contractors$)),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",t.isOpenAsideContractorCreate))},directives:[r.a,ae.a,i.m,ve.d,ve.i,ve.b,ve.f,ve.c,ve.h,ve.j,ve.a,ve.g,ge],pipes:[i.b],styles:[".header[_ngcontent-%COMP%]{position:sticky;height:80px;margin:-15px -15px 15px;padding:15px;border-bottom:1px solid var(--color-graphite)}.header[_ngcontent-%COMP%]   .header__top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.header[_ngcontent-%COMP%]   .header__account[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.header[_ngcontent-%COMP%]   .header__account-name[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.header[_ngcontent-%COMP%]   .header__action[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.header[_ngcontent-%COMP%]   .header__action-balance[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:flex-end}table[_ngcontent-%COMP%]{width:100%}.aside[_ngcontent-%COMP%]{position:fixed;right:15px;top:15px;bottom:15px;width:400px;border-radius:10px;background:#fff;z-index:100;padding:15px;box-shadow:0 0 30px 10px hsla(0,0%,41.2%,.2)}"]}),e})()},{path:"create",component:ge}];let Ie=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[Y.f.forChild(Me)],Y.f]}),e})();var Ee=n("Ne87"),je=n("PCNd");let Se=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,je.a,o.FormsModule,o.ReactiveFormsModule,Ie,r.b,ae.b,ae.b,N,J,Ee.d,X.b,K.b,Z]]}),e})()}}]);