(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{nBVy:function(e,t,n){"use strict";n.r(t),n.d(t,"InvoicesModule",(function(){return dt}));var o=n("ofXK"),i=n("AUM5"),r=n("tyNb"),a=n("3Pt+"),l=n("AytR"),s=n("j+be"),c=n("5UT2"),d=n("wd/R");class u{constructor(e,t,n,o,i,r,a,l,s){this._id=this._id||null,this._userId=this._userId||null,this._createdDate=this._createdDate||d().toString()||null,this._type=this._type||1,this.info=i||new m,this.mailingAddress=r||new p,this.juridicalAddress=a||new p,this.bankAccount=l||new c.b,this.person=s||new h}}class p{constructor(e,t,n,o,i,r,a,l,s,c){this.zipCode=e||null,this.country=t||null,this.countryType=n||null,this.city=o||null,this.street=i||null,this.houseNumber=r||null,this.office=a||null,this.email=l||null,this.phone=s||null,this.fax=c||null}}class m{constructor(e,t,n,o,i,r,a,l,s,c){this.fullName=e||null,this.fullNameBel=t||null,this.shortName=n||null,this.shortNameBel=o||null,this.name=i||null,this.nameBel=r||null,this.registrationDate=a||null,this.unp=l||null,this.isBlocked=s||!1,this.isActive=c||!0}}class h{constructor(e,t){this.responsiblePerson=e||null,this.basis=t||null}}n("LvDl");var g=n("FoiY");class f{constructor(e,t,n,o,i,r,a,l,c,p,m,h,f,v,b,C,w){this._id=e||null,this._userId=i||null,this._contractId=n||null,this._actId=t||null,this._createdDate=o||new Date,this.number=c||null,this.contractor=r||new s.c,this.profile=p||new u,this.services=h||[],this.dateRange=a||g.h.normalizeParse(d().add(7,"day").format("DD.MM.YYYY")),this.status=v||null,this.description=l||null,this.type=C||null,this.signature=f||new x,this.total=b||new _,this.qrCode=m||null,this.template=w||null}isValid(e){var t;let n=!1;return n=!!((null===(t=null==e?void 0:e.services)||void 0===t?void 0:t.length)&&(null==e?void 0:e.status)&&(null==e?void 0:e.contractor)),n}}class v{constructor(e,t,n){this.amount=e||0,this.currency=e||913,this.code=n||"BYN"}}class _{constructor(e,t){this.totalSum=e||new v,this.taxSum=t||new v}}class x{constructor(e,t,n,o){this.sign=e||null,this.firstName=t||null,this.lastName=n||null,this.initials=o||null}}var b=n("1yaB"),C=n("fXoL"),w=n("I/3d"),y=n("py7r"),O=n("2T0e"),M=n("QRU9"),P=n("GQI6"),E=n("akRu"),S=n("qRik"),I=n("7iOb"),k=n("2Q0Y"),F=n("PIpu"),V=n("4TLE"),z=n("LenD"),N=n("bU3b"),j=n("hPTC"),D=n("E4yz"),R=n("Ne87"),T=n("ETo4"),q=n("aMq4"),B=n("l4e0");const L=["focusableElement"];function A(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",13),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate2"](" ",e.value.length,"/",e.controller.maxLength," ")}}function G(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",14),C["\u0275\u0275projection"](1),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]();C["\u0275\u0275classProp"]("placeholder_raised",e.placeholderRaised)}}function $(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",15),C["\u0275\u0275elementStart"](1,"span",16),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate1"](" ",e.controller.exampleText," ")}}function H(e,t){if(1&e&&C["\u0275\u0275element"](0,"tui-tooltip",17),2&e){const e=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("direction",e.hintController.direction)("mode",e.hintController.mode)("content",e.hintController.content)}}const Q=["*"];var Y;let U=(()=>{let e=Y=class extends E.a{constructor(e,t,n,o,i,r,a){super(e,t),this.appearance=n,this.modeDirective=i,this.controller=r,this.hintController=a,this.rows=20,this.expandable=!1,this.isIOS=o}get labelOutside(){return this.controller.labelOutside}get nativeFocusableElement(){return this.computedDisabled||!this.focusableElement?null:this.focusableElement.nativeElement}get focused(){return Object(S.d)(this.nativeFocusableElement)}get size(){return this.controller.size}get hasTooltip(){return!!this.hintController.content&&!this.disabled}get hasValue(){return""!==this.value}get hasCounter(){return!!this.controller.maxLength&&!this.disabled&&!this.readOnly}get hasPlaceholder(){return!this.controller.labelOutside||!this.hasValue&&!this.hasExampleText}get hasExampleText(){return!!this.controller.exampleText&&this.focused&&!this.hasValue&&!this.readOnly}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}get hostMode(){return this.modeDirective&&this.modeDirective.mode}get placeholderRaised(){return!this.controller.labelOutside&&(this.computedFocused&&!this.readOnly||this.hasValue)}onFocused(e){this.updateFocused(e)}onHovered(e){this.updateHovered(e)}onPressed(e){this.updatePressed(e)}onValue(e){this.updateValue(e)}onMouseDown(e){e.target!==this.nativeFocusableElement&&(e.preventDefault(),this.nativeFocusableElement&&Object(S.i)(this.nativeFocusableElement))}getFallbackValue(){return""}get lineHeight(){return"m"===this.controller.size?20:24}};return e.\u0275fac=function(t){return new(t||e)(C["\u0275\u0275directiveInject"](a.NgControl,10),C["\u0275\u0275directiveInject"](C.ChangeDetectorRef),C["\u0275\u0275directiveInject"](N.r),C["\u0275\u0275directiveInject"](I.d),C["\u0275\u0275directiveInject"](j.a,8),C["\u0275\u0275directiveInject"](D.f),C["\u0275\u0275directiveInject"](R.b))},e.\u0275cmp=C["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-text-area"]],viewQuery:function(e,t){var n;1&e&&C["\u0275\u0275viewQuery"](L,!0),2&e&&C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.focusableElement=n.first)},hostVars:14,hostBindings:function(e,t){2&e&&(C["\u0275\u0275attribute"]("data-tui-host-size",t.size)("data-mode",t.hostMode),C["\u0275\u0275classProp"]("_expandable",t.expandable)("_ios",t.isIOS)("_label-outside",t.labelOutside)("_has-tooltip",t.hasTooltip)("_has-value",t.hasValue)("_has-counter",t.hasCounter))},inputs:{rows:"rows",expandable:"expandable"},features:[C["\u0275\u0275ProvidersFeature"]([{provide:I.c,useExisting:Object(C.forwardRef)(()=>Y)},D.a,R.a]),C["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:Q,decls:14,vars:19,consts:[["automation-id","tui-text-area__wrapper",1,"outline",3,"appearance","disabled","focused","hovered","readOnly","invalid"],["automation-id","tui-text-area__counter","class","counter",4,"ngIf"],[1,"content",3,"tuiHoveredChange","mousedown"],[1,"wrapper"],["automation-id","tui-text-area__placeholder","class","placeholder",3,"placeholder_raised",4,"ngIf"],["automation-id","tui-text-area__example-text","class","example-text",4,"ngIf"],["automation-id","tui-text-area__scrollbar",1,"box"],[1,"input-wrapper"],[1,"relative"],[1,"pseudo-content"],["automation-id","tui-text-area__native",1,"input",3,"id","tuiFocusable","disabled","ngModel","readOnly","tuiFocusedChange","ngModelChange"],["focusableElement",""],["automation-id","tui-text-area__tooltip","class","tooltip","describeId","placeholer_until_accesibility_is_added",3,"direction","mode","content",4,"ngIf"],["automation-id","tui-text-area__counter",1,"counter"],["automation-id","tui-text-area__placeholder",1,"placeholder"],["automation-id","tui-text-area__example-text",1,"example-text"],[1,"example-text-inner"],["automation-id","tui-text-area__tooltip","describeId","placeholer_until_accesibility_is_added",1,"tooltip",3,"direction","mode","content"]],template:function(e,t){1&e&&(C["\u0275\u0275projectionDef"](),C["\u0275\u0275elementStart"](0,"tui-wrapper",0),C["\u0275\u0275template"](1,A,2,2,"div",1),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](2,"label",2),C["\u0275\u0275listener"]("tuiHoveredChange",(function(e){return t.onHovered(e)}))("mousedown",(function(e){return t.onMouseDown(e)})),C["\u0275\u0275elementStart"](3,"div",3),C["\u0275\u0275template"](4,G,2,2,"div",4),C["\u0275\u0275template"](5,$,3,1,"div",5),C["\u0275\u0275elementStart"](6,"tui-scrollbar",6),C["\u0275\u0275elementStart"](7,"div",7),C["\u0275\u0275elementStart"](8,"div",8),C["\u0275\u0275elementStart"](9,"div",9),C["\u0275\u0275text"](10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](11,"textarea",10,11),C["\u0275\u0275listener"]("tuiFocusedChange",(function(e){return t.onFocused(e)}))("ngModelChange",(function(e){return t.onValue(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](13,H,1,3,"tui-tooltip",12),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275property"]("appearance",t.appearance)("disabled",t.disabled)("focused",t.computedFocused)("hovered",t.computedHovered)("readOnly",t.readOnly)("invalid",t.computedInvalid),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.hasCounter),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("ngIf",t.hasPlaceholder),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",t.hasExampleText),C["\u0275\u0275advance"](1),C["\u0275\u0275styleProp"]("max-height",t.computeMaxHeight,"px"),C["\u0275\u0275advance"](4),C["\u0275\u0275textInterpolate1"]("",t.value,"\xa0"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("id",t.id)("tuiFocusable",t.focusable)("disabled",t.disabled)("ngModel",t.value)("readOnly",t.readOnly),C["\u0275\u0275attribute"]("maxLength",t.controller.maxLength),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",t.hasTooltip))},directives:[B.a,o.m,z.a,T.a,a.DefaultValueAccessor,F.a,a.NgControlStatus,a.NgModel,V.a,q.a],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-m);position:relative;z-index:0;display:flex;flex-direction:column;min-height:108px;border-radius:var(--tui-radius-m);color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-base-01)}[data-tui-host-size='m'][_nghost-%COMP%]{font:var(--tui-font-text-s);min-height:88px}[data-tui-host-size='m']._has-counter[_nghost-%COMP%]{min-height:106px}[data-tui-host-size='l']._has-counter[_nghost-%COMP%]{min-height:126px}.outline[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.content[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;min-height:inherit;width:100%;box-sizing:border-box;overflow:hidden;cursor:text}@media all and (-webkit-min-device-pixel-ratio:0) and (min-resolution:0.001dpcm){.content[_ngcontent-%COMP%]::-webkit-scrollbar, .content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{width:16px;height:16px;border-radius:100px;background-clip:padding-box;border:6px solid transparent}.content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent}.content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--tui-clear-hover)}.content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--tui-clear-active)}.content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--tui-text-03)}}._disabled[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{cursor:auto;opacity:var(--tui-disabled-opacity)}[_nghost-%COMP%]:not(._expandable)   .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:1px;right:0;min-height:auto}._has-counter[_nghost-%COMP%]:not(._expandable)   .content[_ngcontent-%COMP%]{bottom:27px}.wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:inherit;padding-bottom:7px;box-sizing:border-box}[data-tui-host-size='m']._label-outside[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding-top:12px}[data-tui-host-size='l']._label-outside[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding-top:16px}[data-tui-host-size='m'][_nghost-%COMP%]:not(._label-outside)   .wrapper[_ngcontent-%COMP%]{padding-top:22px}[data-tui-host-size='l'][_nghost-%COMP%]:not(._label-outside)   .wrapper[_ngcontent-%COMP%]{padding-top:26px}.input-wrapper[_ngcontent-%COMP%]{min-height:inherit;width:100%;flex:1}.relative[_ngcontent-%COMP%]{position:relative;min-height:inherit}.box[_ngcontent-%COMP%]{display:flex;min-height:100%;width:100%}[_nghost-%COMP%]:not(._expandable)   .box[_ngcontent-%COMP%]{height:100%}._has-counter._expandable[_nghost-%COMP%]   .box[_ngcontent-%COMP%]{margin-bottom:20px}.pseudo-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;pointer-events:none;visibility:hidden;overflow:hidden}[data-tui-host-size='m'][_nghost-%COMP%]   .pseudo-content[_ngcontent-%COMP%]{padding:0 12px}[data-tui-host-size='l'][_nghost-%COMP%]   .pseudo-content[_ngcontent-%COMP%]{padding:0 16px}._focused._has-tooltip[_nghost-%COMP%]   .pseudo-content[_ngcontent-%COMP%], ._has-value._has-tooltip[_nghost-%COMP%]   .pseudo-content[_ngcontent-%COMP%]{margin-right:40px}.input[_ngcontent-%COMP%]{padding:0;border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;box-sizing:border-box;height:100%;resize:none;overflow:hidden}.input[_ngcontent-%COMP%]:-webkit-autofill, .input[_ngcontent-%COMP%]:-webkit-autofill:focus, .input[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;-webkit-text-fill-color:inherit!important;color:inherit!important;background-color:transparent!important;-webkit-box-shadow:0 0 0 1000px var(--tui-autofill) inset!important}.input[_ngcontent-%COMP%]:focus{outline:0}[data-tui-host-size='m'][_nghost-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 12px}[data-tui-host-size='l'][_nghost-%COMP%]   .input[_ngcontent-%COMP%]{padding:0 16px}._focused._has-tooltip[_nghost-%COMP%]   .input[_ngcontent-%COMP%], ._has-value._has-tooltip[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{padding-right:40px}._ios[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{padding-left:13px}[data-mode=onDark]._disabled[_nghost-%COMP%]   .input[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.placeholder[_ngcontent-%COMP%]{transition-property:transform,min-width,color,letter-spacing;transition-duration:.3s;transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;height:20px;font-size:13px;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;color:var(--tui-text-02);transform-origin:left;letter-spacing:normal;text-transform:none;position:absolute;max-width:calc(100% - 24px)}.placeholder_raised[_ngcontent-%COMP%]{width:114%;transform:translateY(-10px) scale(.87);max-width:calc(113% - 32px)}[data-tui-host-size='m'][_nghost-%COMP%]   .placeholder_raised[_ngcontent-%COMP%]{width:118%;transform:translateY(-8px) scale(.85);letter-spacing:.4px}._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)   .placeholder_raised[_ngcontent-%COMP%], [data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)._hovered   .placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='l']._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m']._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-tui-host-size='l']._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m']._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-tui-host-size='l'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._focused[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='l'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-tui-host-size='m'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-tui-host-size='m'][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{top:12px;left:12px}[data-tui-host-size='l'][_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:15px;top:16px;left:16px}._has-tooltip[_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{max-width:calc(100% - 52px)}.example-text[_ngcontent-%COMP%]{position:absolute;max-width:calc(100% - 24px);color:var(--tui-text-03);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._has-tooltip._focused[_nghost-%COMP%]   .example-text[_ngcontent-%COMP%], ._has-tooltip._has-value[_nghost-%COMP%]   .example-text[_ngcontent-%COMP%]{max-width:calc(100% - 52px)}.tooltip[_ngcontent-%COMP%]{position:absolute;top:16px;right:12px}.counter[_ngcontent-%COMP%]{font:var(--tui-font-text-s);position:absolute;bottom:8px;right:12px;pointer-events:none;margin-top:auto;text-align:right;color:var(--tui-text-03)}[data-mode=onDark][_nghost-%COMP%]   .counter[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}"],changeDetection:0}),Object(P.a)([Object(k.a)()],e.prototype,"rows",void 0),Object(P.a)([Object(k.a)()],e.prototype,"expandable",void 0),e})(),X=(()=>{let e=class{};return e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,a.FormsModule,F.b,V.b,z.b,T.b,q.b,B.b]]}),e})();var J=n("ZB+s"),K=n("EOdy");const W=["native"];function Z(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"span",3),C["\u0275\u0275projection"](1),C["\u0275\u0275elementEnd"]())}const ee=["*"];var te;const ne=J.d;let oe=(()=>{let e=te=class extends E.a{constructor(e,t){super(e,t),this.maxLength=null}get nativeFocusableElement(){return this.native?this.native.nativeElement:null}get focused(){return Object(S.d)(this.nativeFocusableElement)}get hasValue(){return""!==this.value}get maskedValue(){return this.native&&this.value?this.native.nativeElement.value:String(this.value)}onValueChange(e){this.updateValue(e)}onFocused(e){this.updateFocused(e)}getFallbackValue(){return""}};return e.\u0275fac=function(t){return new(t||e)(C["\u0275\u0275directiveInject"](a.NgControl,10),C["\u0275\u0275directiveInject"](C.ChangeDetectorRef))},e.\u0275cmp=C["\u0275\u0275defineComponent"]({type:e,selectors:[["tui-input-inline"]],viewQuery:function(e,t){var n;1&e&&C["\u0275\u0275viewQuery"](W,!0),2&e&&C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.native=n.first)},hostVars:1,hostBindings:function(e,t){2&e&&C["\u0275\u0275attribute"]("data-value",t.maskedValue)},inputs:{maxLength:"maxLength"},features:[C["\u0275\u0275ProvidersFeature"]([{provide:I.c,useExisting:Object(C.forwardRef)(()=>te)},{provide:N.s,deps:[[new C.Optional,a.NG_VALUE_ACCESSOR]],useFactory:ne}]),C["\u0275\u0275InheritDefinitionFeature"]],ngContentSelectors:ee,decls:3,vars:7,consts:[["automation-id","tui-input-inline__placeholder",4,"ngIf"],["automation-id","tui-input-inline__native","type","text","tuiMaskAccessor","",1,"native",3,"id","disabled","readOnly","tuiFocusable","ngModel","ngModelChange","tuiFocusedChange"],["native",""],["automation-id","tui-input-inline__placeholder"]],template:function(e,t){1&e&&(C["\u0275\u0275projectionDef"](),C["\u0275\u0275template"](0,Z,2,0,"span",0),C["\u0275\u0275elementStart"](1,"input",1,2),C["\u0275\u0275listener"]("ngModelChange",(function(e){return t.onValueChange(e)}))("tuiFocusedChange",(function(e){return t.onFocused(e)})),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275property"]("ngIf",!t.hasValue),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("id",t.id)("disabled",t.computedDisabled)("readOnly",t.readOnly)("tuiFocusable",t.focusable)("ngModel",t.value),C["\u0275\u0275attribute"]("maxLength",t.maxLength))},directives:[o.m,K.a,a.DefaultValueAccessor,F.a,a.NgControlStatus,a.NgModel,V.a],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;overflow:hidden;white-space:nowrap;box-sizing:border-box}[_nghost-%COMP%]:before{content:attr(data-value);padding-right:.02em;visibility:hidden;white-space:pre}.native[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:transparent;padding:inherit;font:inherit;color:inherit;box-sizing:border-box;width:100%;height:100%;border-width:0;text-align:inherit;letter-spacing:inherit;text-indent:inherit;text-transform:inherit;outline:0}"],changeDetection:0}),Object(P.a)([Object(k.a)()],e.prototype,"maxLength",void 0),e})(),ie=(()=>{let e=class{};return e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,a.FormsModule,F.b,V.b,K.b]]}),e})();var re=n("S/0I"),ae=n("0hV+"),le=n("Kr9W"),se=n("UL+i"),ce=n("1G5W"),de=n("lGQG");let ue=(()=>{class e{constructor(e,t){this._fs=e,this._auth=t,this.dbPath="/services",this.servicesRef=null,this.dbRef=null,this._auth.isLoggedIn&&(this.servicesRef=e.collection(this.dbPath,e=>e.where("_userId","==",this._auth.getUserId())))}getAll$(){return this.servicesRef.valueChanges()}getByName$(e){return this._fs.collection(this.dbPath,t=>t.where("_userId","==",this._auth.getUserId()).where("name",">=",e))}add(e){const t=this._fs.createId();return e._id=t,e._userId=this._auth.getUserId(),this._fs.collection(this.dbPath).doc(t).set(Object.assign({},e))}delete(e){if(e)return this.servicesRef.doc(e).delete()}update(e,t){return this.servicesRef.doc(e).update(t)}}return e.\u0275fac=function(t){return new(t||e)(C["\u0275\u0275inject"](w.a),C["\u0275\u0275inject"](de.a))},e.\u0275prov=C["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pe=n("q9Vr"),me=n("NEux"),he=n("eLK0"),ge=n("1hyw"),fe=n("JoVC"),ve=n("XuND"),_e=n("Rplt"),xe=n("/XBx"),be=n("iy9C"),Ce=n("m1/c"),we=n("7r80");function ye(e,t){if(1&e&&C["\u0275\u0275element"](0,"tui-data-list-wrapper",16),2&e){const e=C["\u0275\u0275nextContext"](2).tuiLet;C["\u0275\u0275nextContext"]();const t=C["\u0275\u0275reference"](7);C["\u0275\u0275property"]("items",e)("itemContent",t)}}function Oe(e,t){if(1&e){const e=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"div",7),C["\u0275\u0275elementStart"](1,"tui-input-date",8),C["\u0275\u0275text"](2," \u0414\u0430\u0442\u0430 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"tui-select",9),C["\u0275\u0275listener"]("ngModelChange",(function(n){C["\u0275\u0275restoreView"](e);const o=t.index;return C["\u0275\u0275nextContext"](2).selectedService(n,o)})),C["\u0275\u0275text"](4," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "),C["\u0275\u0275template"](5,ye,1,2,"tui-data-list-wrapper",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](6,"tui-input",11),C["\u0275\u0275text"](7," \u0415\u0434. \u0438\u0437\u043c. "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](8,"tui-input-count",12),C["\u0275\u0275listener"]("ngModelChange",(function(){C["\u0275\u0275restoreView"](e);const n=t.$implicit,o=t.index;return C["\u0275\u0275nextContext"](2).calculateSum(n,o)})),C["\u0275\u0275text"](9," \u041a\u043e\u043b-\u0432\u043e "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](10,"tui-input-number",13),C["\u0275\u0275text"](11," \u0426\u0435\u043d\u0430 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](12,"tui-input-number",14),C["\u0275\u0275text"](13," \u0421\u0443\u043c\u043c\u0430 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"button",15),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](e);const n=t.index;return C["\u0275\u0275nextContext"](2).deleteRow(n)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index,n=C["\u0275\u0275nextContext"](2),o=C["\u0275\u0275reference"](5);C["\u0275\u0275property"]("collapsed",!0)("formGroupName",e),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("valueContent",o),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("value",n.getUnit())("readOnly",!0),C["\u0275\u0275advance"](4),C["\u0275\u0275property"]("readOnly",!0),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("readOnly",!0),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("icon",1===n.form.get("tableRowArray").length?"tuiIconHrLarge":"tuiIconTrashLarge")("disabled",1===n.form.get("tableRowArray").length)}}function Me(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"form",4),C["\u0275\u0275elementStart"](1,"div",5),C["\u0275\u0275template"](2,Oe,15,9,"div",6),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]();C["\u0275\u0275property"]("formGroup",e.form),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngForOf",e.form.get("tableRowArray").controls)}}function Pe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275elementStart"](1,"div",18),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](null==e?null:e.name)}}function Ee(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"div",17),C["\u0275\u0275elementStart"](1,"div",18),C["\u0275\u0275text"](2),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](3,"tui-money",19),C["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;C["\u0275\u0275advance"](2),C["\u0275\u0275textInterpolate"](null==e?null:e.name),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("value",e.price)}}let Se=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.serviceService=t,this.destroy$=n,this.selected=new C.EventEmitter}ngOnInit(){this.createForm(),this.fetch()}fetch(){this.services$=this.serviceService.getAll$()}createForm(){this.form=this.formBuilder.group({tableRowArray:this.formBuilder.array([this.createTableRow()])}),this.onChanges()}createTableRow(){return this.formBuilder.group({name:new a.FormControl(null,{validators:[a.Validators.required]}),date:new a.FormControl(this.initDate(),{validators:[a.Validators.required]}),unit:new a.FormControl("",{validators:[a.Validators.required]}),count:new a.FormControl(null,{validators:[a.Validators.required]}),price:new a.FormControl(null,{validators:[a.Validators.required]}),amount:new a.FormControl(null,{validators:[a.Validators.required]})})}get tableRowArray(){return this.form.get("tableRowArray")}addNewRow(){this.tableRowArray.push(this.createTableRow())}deleteRow(e){this.tableRowArray.removeAt(e)}initDate(){let e="DD.MM.YYYY";if(this.form){let t=this.form.get("tableRowArray").controls.length-1,n=this.form.get("tableRowArray").controls[t].controls.date.value;return g.h.normalizeParse(d(n).add(1,"day").format(e))}return g.h.normalizeParse(d().format(e))}selectedService(e,t){const n=this.form.get("tableRowArray").controls[t].controls;n.count.setValue(e.count),n.price.setValue(e.price),n.amount.setValue((e.count*e.price).toFixed(2)),n.unit.setValue(e.unit)}calculateSum(e,t){this.form.get("tableRowArray").controls[t].controls.amount.setValue((e.controls.count.value*e.controls.price.value).toFixed(2))}getUnit(){return"test"}doEmit(){this.selected.emit(this.form.valid?this.form.get("tableRowArray").value:[])}onChanges(){this.form.valueChanges.pipe(Object(ce.a)(this.destroy$)).subscribe(e=>{this.doEmit()})}}return e.\u0275fac=function(t){return new(t||e)(C["\u0275\u0275directiveInject"](a.FormBuilder),C["\u0275\u0275directiveInject"](ue),C["\u0275\u0275directiveInject"](se.a))},e.\u0275cmp=C["\u0275\u0275defineComponent"]({type:e,selectors:[["app-service-table"]],outputs:{selected:"selected"},features:[C["\u0275\u0275ProvidersFeature"]([se.a])],decls:8,vars:4,consts:[["tuiTableMode","",3,"formGroup",4,"tuiLet"],["tuiButton","","type","button","size","s",1,"tui-space_right-3","tui-space_bottom-3","tui-space_top-3",3,"disabled","click"],["valueContent",""],["itemContent",""],["tuiTableMode","",3,"formGroup"],["formArrayName","tableRowArray",1,"table"],["tuiGroup","","class","row",3,"collapsed","formGroupName",4,"ngFor","ngForOf"],["tuiGroup","",1,"row",3,"collapsed","formGroupName"],["tuiTextfieldSize","m","formControlName","date",1,"cell","cell_date"],["formControlName","name",3,"valueContent","ngModelChange"],["size","l",3,"items","itemContent",4,"tuiDataList"],["tuiTextfieldSize","m",1,"cell","cell_count",3,"value","readOnly"],["tuiTextfieldSize","m","formControlName","count",1,"cell","cell_count",3,"ngModelChange"],["tuiTextfieldSize","m","formControlName","price",1,"cell","cell_price",3,"readOnly"],["tuiTextfieldSize","m","formControlName","amount",1,"cell","cell_price",3,"readOnly"],["appearance","buttonDeleteRow","tuiIconButton","","type","button",1,"cell","cell_delete",3,"icon","disabled","click"],["size","l",3,"items","itemContent"],[1,"itemContent"],[1,"itemContent__name"],[1,"itemContent__amount",3,"value"]],template:function(e,t){1&e&&(C["\u0275\u0275template"](0,Me,3,2,"form",0),C["\u0275\u0275pipe"](1,"async"),C["\u0275\u0275elementStart"](2,"button",1),C["\u0275\u0275listener"]("click",(function(){return t.addNewRow()})),C["\u0275\u0275text"](3," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443\n"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](4,Pe,3,1,"ng-template",null,2,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275template"](6,Ee,4,2,"ng-template",null,3,C["\u0275\u0275templateRefExtractor"])),2&e&&(C["\u0275\u0275property"]("tuiLet",C["\u0275\u0275pipeBind1"](1,2,t.services$)),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("disabled",t.form.invalid))},directives:[pe.a,me.a,a["\u0275angular_packages_forms_forms_y"],a.NgControlStatusGroup,he.a,a.FormGroupDirective,a.FormArrayName,o.l,ge.a,a.FormGroupName,fe.a,a.NgControlStatus,a.FormControlName,ve.a,be.b,Ce.a,_e.a,O.a,xe.a,we.a],pipes:[o.b],styles:[".row[_ngcontent-%COMP%]{background:#fff}.cell[_ngcontent-%COMP%]{padding:0}.cell_date[_ngcontent-%COMP%]{width:145px;flex:0 0 145px}.cell_color[_ngcontent-%COMP%]{width:100px;flex:0 0 100px}.cell_count[_ngcontent-%COMP%]{width:90px;flex:0 0 90px;text-align:right}.cell_price[_ngcontent-%COMP%]{width:150px;flex:0 0 150px;text-align:right}.cell_delete[_ngcontent-%COMP%]{max-width:56px;border:1px solid var(--tui-base-04);border-radius:0!important;color:var(--tui-base-05)}.cell_delete._hovered[_ngcontent-%COMP%]{color:var(--tui-base-03)}.cell_delete._pressed[_ngcontent-%COMP%]{color:var(--tui-accent-active)}.itemContent[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.itemContent[_ngcontent-%COMP%]   .itemContent__name[_ngcontent-%COMP%]{font-weight:600}.itemContent[_ngcontent-%COMP%]   .itemContent__amount[_ngcontent-%COMP%]{color:var(--tui-text-03)}"]}),e})();const Ie=["qrBlock"],ke=["inputNumber"];function Fe(e,t){if(1&e){const e=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"tui-input-inline",21,22),C["\u0275\u0275listener"]("focusedChange",(function(t){return C["\u0275\u0275restoreView"](e),C["\u0275\u0275nextContext"]().onFocusedChange(t)}))("keydown.esc.prevent",(function(){return C["\u0275\u0275restoreView"](e),C["\u0275\u0275nextContext"]().toggleInvoiceNumber()}))("keydown.enter.prevent",(function(){return C["\u0275\u0275restoreView"](e),C["\u0275\u0275nextContext"]().toggleInvoiceNumber()})),C["\u0275\u0275text"](2," Type a heading "),C["\u0275\u0275elementEnd"]()}}function Ve(e,t){if(1&e){const e=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"span"),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](2,"button",23),C["\u0275\u0275listener"]("click",(function(){return C["\u0275\u0275restoreView"](e),C["\u0275\u0275nextContext"]().toggleInvoiceNumber()})),C["\u0275\u0275elementEnd"]()}if(2&e){const e=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate"](e.f.number.value)}}const ze=function(){return{day:3}},Ne=function(){return{month:1}};let je=(()=>{class e{constructor(e,t,n,o,i){this.afs=e,this.invoiceService=t,this.router=n,this.formBuilder=o,this.route=i,this.invoice=new f(this.afs.createId())}ngOnInit(){this.setupForm()}setupForm(){this.form=this.formBuilder.group({_id:new a.FormControl(this.afs.createId(),[a.Validators.required]),contractor:new a.FormControl(null,[a.Validators.required]),dateRange:new a.FormControl(new g.i(b.a.initDate(),b.a.initDate(6))),description:new a.FormControl(null),number:new a.FormControl(1,[a.Validators.required]),profile:new a.FormControl(null,[a.Validators.required]),qrCode:new a.FormControl(null,[a.Validators.required]),services:new a.FormControl(null,[a.Validators.required]),signature:new a.FormControl(null,[a.Validators.required]),status:new a.FormControl(null,[a.Validators.required]),total:new a.FormControl(new _,[a.Validators.required]),type:new a.FormControl(1,[a.Validators.required])})}get f(){return this.form.controls}initDate(e){return g.h.normalizeParse(d().add(e,"day").format("DD.MM.YYYY"))}setStatus(e){this.invoice&&(this.invoice.status=e,this.form.controls.status.setValue(e))}setContractor(e){this.invoice&&(this.invoice.contractor=e,this.form.controls.contractor.setValue(e))}setService(e){this.invoice&&(this.invoice.services=e,this.form.controls.services.setValue(e))}save(){this.isQrCodeValid&&this.form.controls.qrCode.setValue(this.getQrCode),this.invoiceService.add$(this.form.value).subscribe(()=>{this.router.navigate([l.a.routing.admin.invoice.list])})}cancel(){this.router.navigate([l.a.routing.admin.invoice.list])}get isInvoiceValid(){return!!this.invoice&&this.invoice.isValid(this.invoice)}toggleInvoiceNumber(){this.isEditingNumber=!this.isEditingNumber}onFocusedChange(e){e||(this.isEditingNumber=!1)}get getQrCode(){return this.isQrCodeValid?this.qrBlock.qrcElement.nativeElement.childNodes[0].currentSrc:null}get isQrCodeValid(){return this.qrBlock&&this.qrBlock.qrcElement.nativeElement.childNodes.length}}return e.\u0275fac=function(t){return new(t||e)(C["\u0275\u0275directiveInject"](w.a),C["\u0275\u0275directiveInject"](y.a),C["\u0275\u0275directiveInject"](r.b),C["\u0275\u0275directiveInject"](a.FormBuilder),C["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=C["\u0275\u0275defineComponent"]({type:e,selectors:[["app-invoices-create"]],viewQuery:function(e,t){var n;1&e&&(C["\u0275\u0275viewQuery"](Ie,!0),C["\u0275\u0275viewQuery"](ke,!0)),2&e&&(C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.qrBlock=n.first),C["\u0275\u0275queryRefresh"](n=C["\u0275\u0275loadQuery"]())&&(t.inputNumber=n.first))},decls:42,vars:16,consts:[[1,"tui-container","tui-container_adaptive",3,"formGroup"],[1,"tui-row","tui-row_adaptive"],["formControlName","number",1,"tui-col_md-3"],[1,"tui-col_xs-12","tui-col_s-1","tui-col_sm-1","tui-col_md-4",3,"selected"],["tuiUnfinishedValidator","Finish filling the field","formControlName","dateRange","tuiHintContent","\u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d 3 \u0434\u043d\u044f, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d: 1 \u043c\u0435\u0441\u044f\u0446",1,"tui-col_xs-12","tui-col_s-1","tui-col_sm-1","tui-col_md-5","tui-col_lg-5",3,"min","minLength","maxLength"],[1,"tui-row","tui-row_adaptive","tui-space_top-5"],[1,"tui-col_xs-12","tui-col_s-1","tui-col_sm-1","tui-col_md-6","tui-col_lg-6"],[1,"header"],["tuiAutoFocus","","formControlName","number",3,"focusedChange","keydown.esc.prevent","keydown.enter.prevent",4,"ngIf","ngIfElse"],["invoiceNumberText",""],["formControlName","description",3,"expandable"],[3,"qrdata","width","errorCorrectionLevel","elementType"],["qrBlock",""],[3,"selected"],[1,"tui-row","tui-row_adaptive","tui-space_top-8"],[1,"tui-col_xs-12","tui-col_s-12","tui-col_sm-12","tui-col_md-12","tui-col_lg-12"],[1,"tui-form__row"],[1,"tui-form__field"],[1,"tui-row","tui-row_adaptive","tui-space_top-10"],["tuiButton","","type","button","appearance","outline",1,"tui-space_right-3","tui-space_bottom-3",3,"click"],["tuiButton","","type","button",1,"tui-space_right-3","tui-space_bottom-3",3,"disabled","click"],["tuiAutoFocus","","formControlName","number",3,"focusedChange","keydown.esc.prevent","keydown.enter.prevent"],["inputNumber",""],["tuiIconButton","","type","button","title","\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440","size","xs","appearance","icon","icon","tuiIconEditLarge",1,"tui-space_left-1",3,"click"]],template:function(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"form",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"tui-input-number",2),C["\u0275\u0275text"](3," \u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](4,"app-status-panel",3),C["\u0275\u0275listener"]("selected",(function(e){return t.setStatus(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](5,"tui-input-date-range",4),C["\u0275\u0275text"](6," \u0412\u0440\u0435\u043c\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441\u0447\u0451\u0442\u0430 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"div",5),C["\u0275\u0275elementStart"](8,"div",6),C["\u0275\u0275elementStart"](9,"h1",7),C["\u0275\u0275text"](10," \u0421\u0447\u0435\u0442-\u0444\u0430\u043a\u0442\u0443\u0440\u0430 \u2116 "),C["\u0275\u0275template"](11,Fe,3,0,"tui-input-inline",8),C["\u0275\u0275template"](12,Ve,3,1,"ng-template",null,9,C["\u0275\u0275templateRefExtractor"]),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](14,"tui-text-area",10),C["\u0275\u0275text"](15," \u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](16,"div",6),C["\u0275\u0275elementStart"](17,"h2"),C["\u0275\u0275text"](18,"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](19,"qrcode",11,12),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](21,"div",1),C["\u0275\u0275elementStart"](22,"div",6),C["\u0275\u0275elementStart"](23,"h5"),C["\u0275\u0275text"](24,"\u0410\u0440\u0435\u043d\u0434\u043e\u0434\u0430\u0442\u0435\u043b\u044c"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](25,"h2"),C["\u0275\u0275text"](26,"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043a\u043e\u043c\u043f\u043d\u0438\u0438"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](27,"div",6),C["\u0275\u0275elementStart"](28,"h5"),C["\u0275\u0275text"](29,"\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](30,"app-contractor-panel",13),C["\u0275\u0275listener"]("selected",(function(e){return t.setContractor(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](31,"div",14),C["\u0275\u0275elementStart"](32,"div",15),C["\u0275\u0275elementStart"](33,"div",16),C["\u0275\u0275elementStart"](34,"div",17),C["\u0275\u0275elementStart"](35,"app-service-table",13),C["\u0275\u0275listener"]("selected",(function(e){return t.setService(e)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](36,"div",18),C["\u0275\u0275elementStart"](37,"div",15),C["\u0275\u0275elementStart"](38,"button",19),C["\u0275\u0275listener"]("click",(function(){return t.cancel()})),C["\u0275\u0275text"](39," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](40,"button",20),C["\u0275\u0275listener"]("click",(function(){return t.save()})),C["\u0275\u0275text"](41," \u0421\u043e\u0437\u0434\u0430\u0442\u044c "),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275reference"](13);C["\u0275\u0275property"]("formGroup",t.form),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("min",t.initDate(0))("minLength",C["\u0275\u0275pureFunction0"](14,ze))("maxLength",C["\u0275\u0275pureFunction0"](15,Ne)),C["\u0275\u0275advance"](4),C["\u0275\u0275classProp"]("header_empty",!t.f.number.value),C["\u0275\u0275advance"](2),C["\u0275\u0275property"]("ngIf",t.isEditingNumber)("ngIfElse",e),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("expandable",!0),C["\u0275\u0275advance"](5),C["\u0275\u0275property"]("qrdata",null==t.invoice?null:t.invoice._id)("width",125)("errorCorrectionLevel","H")("elementType","img"),C["\u0275\u0275advance"](21),C["\u0275\u0275property"]("disabled",!t.isInvoiceValid)}},directives:[a["\u0275angular_packages_forms_forms_y"],a.NgControlStatusGroup,a.FormGroupDirective,O.a,a.NgControlStatus,a.FormControlName,re.a,M.a,R.c,o.m,U,ae.a,le.a,Se,me.a,oe],styles:[""],changeDetection:0}),e})();var De=n("b5b/"),Re=n("kqZG"),Te=n("+Co2");function qe(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"th",18),C["\u0275\u0275text"](1,"\u041d\u043e\u043c\u0435\u0440"),C["\u0275\u0275elementEnd"]()),2&e&&C["\u0275\u0275property"]("resizable",!0)}function Be(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"th",18),C["\u0275\u0275text"](1,"\u0423\u041d\u041f"),C["\u0275\u0275elementEnd"]()),2&e&&C["\u0275\u0275property"]("resizable",!0)}function Le(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"th",18),C["\u0275\u0275text"](1,"\u0421\u0442\u0430\u0442\u0443\u0441"),C["\u0275\u0275elementEnd"]()),2&e&&C["\u0275\u0275property"]("resizable",!0)}function Ae(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"th",18),C["\u0275\u0275text"](1,"\u0421\u0443\u043c\u043c\u0430"),C["\u0275\u0275elementEnd"]()),2&e&&C["\u0275\u0275property"]("resizable",!0)}function Ge(e,t){1&e&&C["\u0275\u0275element"](0,"th",18),2&e&&C["\u0275\u0275property"]("resizable",!0)}function $e(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"td",21),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"]("# ",null==e?null:e.number,"")}}function He(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"td",21),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",null==e||null==e.contractor||null==e.contractor.info?null:e.contractor.info.unp," ")}}function Qe(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"td",21),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",null==e||null==e.status?null:e.status.name," ")}}function Ye(e,t){if(1&e&&(C["\u0275\u0275elementStart"](0,"td",21),C["\u0275\u0275text"](1),C["\u0275\u0275elementEnd"]()),2&e){const e=C["\u0275\u0275nextContext"]().$implicit;C["\u0275\u0275advance"](1),C["\u0275\u0275textInterpolate1"](" ",null==e||null==e.total||null==e.total.totalSum?null:e.total.totalSum.amount," ")}}function Ue(e,t){if(1&e){const e=C["\u0275\u0275getCurrentView"]();C["\u0275\u0275elementStart"](0,"td",21),C["\u0275\u0275elementStart"](1,"button",22),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](e);const t=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"](2).downloadPdf(t)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](2,"button",23),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](e);const t=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"](2).create(t)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](3,"button",24),C["\u0275\u0275listener"]("click",(function(){C["\u0275\u0275restoreView"](e);const t=C["\u0275\u0275nextContext"]().$implicit;return C["\u0275\u0275nextContext"](2).delete(t)})),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"]()}}function Xe(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"tr",19),C["\u0275\u0275template"](1,$e,2,1,"td",20),C["\u0275\u0275template"](2,He,2,1,"td",20),C["\u0275\u0275template"](3,Qe,2,1,"td",20),C["\u0275\u0275template"](4,Ye,2,1,"td",20),C["\u0275\u0275template"](5,Ue,4,0,"td",20),C["\u0275\u0275elementEnd"]()),2&e&&(C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiCell","number"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiCell","unp"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiCell","status"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiCell","price"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiCell","action"))}function Je(e,t){if(1&e&&(C["\u0275\u0275elementContainerStart"](0),C["\u0275\u0275elementStart"](1,"table",13),C["\u0275\u0275elementStart"](2,"thead"),C["\u0275\u0275elementStart"](3,"tr",14),C["\u0275\u0275template"](4,qe,2,1,"th",15),C["\u0275\u0275template"](5,Be,2,1,"th",15),C["\u0275\u0275template"](6,Le,2,1,"th",15),C["\u0275\u0275template"](7,Ae,2,1,"th",15),C["\u0275\u0275template"](8,Ge,1,1,"th",15),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](9,"tbody",16),C["\u0275\u0275template"](10,Xe,6,5,"tr",17),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementContainerEnd"]()),2&e){const e=t.ngIf,n=C["\u0275\u0275nextContext"]();C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("columns",n.columns),C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("tuiHead","number"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiHead","unp"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiHead","status"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiHead","price"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiHead","action"),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("data",e),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("tuiRowOf",e)}}const Ke=function(e){return[e]},We=[{path:"",component:(()=>{class e{constructor(e,t){this.invoiceService=e,this.templatePdfService=t,this.columns=["number","unp","status","price","action"],this.routing=l.a.routing}ngOnInit(){this.fetchStatuses(),this.fetch()}fetchStatuses(){this.invoiceStatuses$=this.invoiceService.getAllStatus$()}fetch(){this.invoices$=this.invoiceService.getAll$()}delete(e){e&&this.invoiceService.delete$(e._id)}downloadPdf(e){this.templatePdfService.downloadPdf("invoice",e)}}return e.\u0275fac=function(t){return new(t||e)(C["\u0275\u0275directiveInject"](y.a),C["\u0275\u0275directiveInject"](De.a))},e.\u0275cmp=C["\u0275\u0275defineComponent"]({type:e,selectors:[["app-invoices-list"]],decls:17,vars:9,consts:[[1,"header"],[1,"header__top"],[1,"header__account"],["text","\u0420\u043e\u043c\u0430\u043d \u041b\u0443\u043d\u0446\u0435\u0432\u0438\u0447","size","m",1,"tui-space_right-3",3,"rounded"],[1,"header__account-name"],[1,"tui-text_h6"],[1,"tui-text_body-s"],[1,"header__action"],[1,"header__action-balance"],[1,"tui-space_bottom-0","tui-space_top-0"],[1,"tui-text_h6",3,"value","colored"],["tuiIconButton","","size","m","icon","tuiIconPlusLarge","title","Add new invoice","shape","rounded",1,"tui-space_left-10",3,"routerLink"],[4,"ngIf"],["tuiTable","",3,"columns"],["tuiThGroup",""],["tuiTh","",3,"resizable",4,"tuiHead"],["tuiTbody","",3,"data"],["tuiTr","",4,"tuiRow","tuiRowOf"],["tuiTh","",3,"resizable"],["tuiTr",""],["tuiTd","",4,"tuiCell"],["tuiTd",""],["tuiIconButton","","appearance","flat","size","s","icon","tuiIconDownload","title","\u0421\u043a\u0430\u0447\u0430\u0442\u044c PDF","shape","rounded",3,"click"],["tuiIconButton\u0446","","appearance","flat","size","s","icon","tuiIconCopy","title","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0410\u043a\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438...","shape","rounded",3,"click"],["tuiIconButton","","appearance","flat","size","s","icon","tuiIconTrash","title","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","shape","rounded",3,"click"]],template:function(e,t){1&e&&(C["\u0275\u0275elementStart"](0,"div",0),C["\u0275\u0275elementStart"](1,"div",1),C["\u0275\u0275elementStart"](2,"div",2),C["\u0275\u0275element"](3,"tui-avatar",3),C["\u0275\u0275elementStart"](4,"div",4),C["\u0275\u0275elementStart"](5,"span",5),C["\u0275\u0275text"](6,"\u0418\u041f \u041b\u0443\u043d\u0446\u0435\u0432\u0438\u0447 \u0420.\u0412."),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](7,"span",6),C["\u0275\u0275text"](8,"\u0423\u041d\u041f: 123 123 123"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementStart"](9,"div",7),C["\u0275\u0275elementStart"](10,"div",8),C["\u0275\u0275elementStart"](11,"p",9),C["\u0275\u0275text"](12,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441:"),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](13,"tui-money",10),C["\u0275\u0275elementEnd"](),C["\u0275\u0275element"](14,"button",11),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275elementEnd"](),C["\u0275\u0275template"](15,Je,11,8,"ng-container",12),C["\u0275\u0275pipe"](16,"async")),2&e&&(C["\u0275\u0275advance"](3),C["\u0275\u0275property"]("rounded",!0),C["\u0275\u0275advance"](10),C["\u0275\u0275property"]("value",2750)("colored",!0),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("routerLink",C["\u0275\u0275pureFunction1"](7,Ke,t.routing.admin.invoice.create)),C["\u0275\u0275advance"](1),C["\u0275\u0275property"]("ngIf",C["\u0275\u0275pipeBind1"](16,5,t.invoices$)))},directives:[Re.a,we.a,me.a,r.c,o.m,Te.d,Te.i,Te.b,Te.f,Te.c,Te.h,Te.j,Te.a,Te.g],pipes:[o.b],styles:[".header[_ngcontent-%COMP%]{position:sticky;height:80px;margin:-15px -15px 15px;padding:15px;border-bottom:1px solid var(--color-graphite)}.header[_ngcontent-%COMP%]   .header__top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.header[_ngcontent-%COMP%]   .header__account[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.header[_ngcontent-%COMP%]   .header__account-name[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column}.header[_ngcontent-%COMP%]   .header__action[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.header[_ngcontent-%COMP%]   .header__action-balance[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:flex-end}table[_ngcontent-%COMP%]{width:100%}"]}),e})()},{path:"create",component:je,data:{contract:"test data contract"}}];let Ze=(()=>{class e{}return e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.f.forChild(We)],r.f]}),e})();var et=n("PCNd"),tt=(n("Ni9E"),n("lD5H")),nt=n("2aHb");n("nXPc"),n("VRyK"),n("lJxs"),n("pLZG"),n("eIep"),n("CqXF"),n("JX91"),n("/uUt");let ot=(()=>{let e=class{};return e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)}}),e})();var it=n("rzd+"),rt=(n("snLG"),n("jzak")),at=n("KTaV"),lt=n("yPFk");n("h05a"),n("ozbH"),n("LRne");var st=n("6AEW");n("jhN1");let ct=(()=>{let e=class{};return e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,st.c,pe.b,V.b,tt.b,nt.b,z.b,F.b,ot,B.b,rt.b,at.b,lt.b,me.b,it.b,ge.b]]}),e})(),dt=(()=>{class e{}return e.\u0275mod=C["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=C["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,i.a,Ze,et.a,me.b,R.d,M.b,ct,ie,O.b,X]]}),e})()}}]);