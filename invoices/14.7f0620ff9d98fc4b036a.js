(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"6PpP":function(e,t,n){"use strict";n.r(t),n.d(t,"CompanyModule",(function(){return X}));var o=n("ofXK"),i=n("tyNb"),a=n("AytR"),r=n("fXoL"),c=n("ZtWP"),s=n("nYR2"),l=n("Vaw3"),p=n("sSZD"),d=n("lGQG");let m=(()=>{class e{constructor(e,t,n){this._afStorage=e,this._afDB=t,this._auth=n,this.basePath="/uploads"}pushFileToStorage(e){const t=`${this.basePath}/${e.file.name}`,n=this._afStorage.ref(t),o=this._afStorage.upload(t,(null==e?void 0:e.file)||null);return o.snapshotChanges().pipe(Object(s.a)(()=>{n.getDownloadURL().subscribe(t=>{e.url=t,e.name=e.file.name,e._userId=this._auth.getUserId(),this.saveFileData(e)})})).subscribe(),o.percentageChanges()}saveFileData(e){this._afDB.list(this.basePath).push(e)}getFiles(e){return this._afDB.list(this.basePath,t=>t.limitToLast(e))}deleteFile(e){this.deleteFileDatabase(e.key).then(()=>{this.deleteFileStorage(e.name)}).catch(e=>console.log(e))}deleteFileDatabase(e){return this._afDB.list(this.basePath).remove(e)}deleteFileStorage(e){this._afStorage.ref(this.basePath).child(e).delete()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275inject"](l.a),r["\u0275\u0275inject"](p.a),r["\u0275\u0275inject"](d.a))},e.\u0275prov=r["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=n("8v+o"),g=n("RRv3");let h=(()=>{class e{constructor(){this.dropped=new r.EventEmitter,this.hovered=new r.EventEmitter}onDrop(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}onDragOver(e){e.preventDefault(),this.hovered.emit(!0)}onDragLeave(e){e.preventDefault(),this.hovered.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e,selectors:[["","dropzone",""]],hostBindings:function(e,t){1&e&&r["\u0275\u0275listener"]("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},outputs:{dropped:"dropped",hovered:"hovered"}}),e})();var f=n("mrSG"),_=n("vkgz"),y=n("I/3d");function v(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275element"](1,"progress",1),r["\u0275\u0275text"](2),r["\u0275\u0275pipe"](3,"number"),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("value",e),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",r["\u0275\u0275pipeBind1"](3,2,e),"%\n")}}function C(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275elementStart"](1,"h3"),r["\u0275\u0275text"](2,"Results!"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](3,"img",3),r["\u0275\u0275element"](4,"br"),r["\u0275\u0275elementStart"](5,"a",4),r["\u0275\u0275text"](6,"Download Me!"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("src",e,r["\u0275\u0275sanitizeUrl"]),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("href",e,r["\u0275\u0275sanitizeUrl"])}}function x(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275text"](1),r["\u0275\u0275template"](2,C,7,2,"div",0),r["\u0275\u0275elementStart"](3,"button",2),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().task.pause()})),r["\u0275\u0275text"](4,"Pause"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",2),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().task.cancel()})),r["\u0275\u0275text"](6,"Cancel"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"button",2),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().task.resume()})),r["\u0275\u0275text"](8,"Resume"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate2"](" ",e.bytesTransferred," of ",e.totalBytes," "),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",n.downloadURL),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("disabled",!n.isActive(e)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",!n.isActive(e)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",!("paused"===(null==e?null:e.state)))}}let b=(()=>{class e{constructor(e,t){this.storage=e,this.db=t}ngOnInit(){this.startUpload()}startUpload(){const e=`test/${Date.now()}_${this.file.name}`,t=this.storage.ref(e);this.task=this.storage.upload(e,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(_.a)(console.log),Object(s.a)(()=>Object(f.b)(this,void 0,void 0,(function*(){this.downloadURL=yield t.getDownloadURL().toPromise(),this.db.collection("files").add({downloadURL:this.downloadURL,path:e})}))))}isActive(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.a),r["\u0275\u0275directiveInject"](y.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploader-task"]],inputs:{file:"file"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[3,"disabled","click"],[3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,v,4,4,"div",0),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275template"](2,x,9,6,"div",0),r["\u0275\u0275pipe"](3,"async")),2&e&&(r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](1,2,t.percentage)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("ngIf",r["\u0275\u0275pipeBind1"](3,4,t.snapshot)))},directives:[o.m],pipes:[o.b,o.e],styles:[""]}),e})();function O(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"div"),r["\u0275\u0275element"](1,"app-uploader-task",5),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("file",e)}}let S=(()=>{class e{constructor(){this.files=[]}toggleHover(e){this.isHovering=e}onDrop(e){for(let t=0;t<e.length;t++)this.files.push(e.item(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploader"]],decls:9,vars:3,consts:[["dropzone","",1,"uploader","dropzone",3,"hovered","dropped"],[1,"uploader__title"],[1,"uploader__desc"],["type","file","multiple","",1,"uploader__input"],[4,"ngFor","ngForOf"],[3,"file"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275listener"]("hovered",(function(e){return t.toggleHover(e)}))("dropped",(function(e){return t.onDrop(e)})),r["\u0275\u0275elementStart"](1,"h3",1),r["\u0275\u0275text"](2,"Drop your files here or click here"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](3,"p",2),r["\u0275\u0275text"](4,"Upload images or files what you want. Maximum size 2mb"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"input",3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](6,"h3"),r["\u0275\u0275text"](7,"Uploads"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,O,2,1,"div",4)),2&e&&(r["\u0275\u0275classProp"]("_hovering",t.isHovering),r["\u0275\u0275advance"](8),r["\u0275\u0275property"]("ngForOf",t.files))},directives:[h,o.l,b],styles:[".uploader[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;font-weight:200;height:300px;border:2px dashed #ced2dc;border-radius:5px;background:#fff;margin:10px 0;cursor:pointer;transition:all .3s ease-in-out}.uploader[_ngcontent-%COMP%]:hover{border:2px dashed #1880fe}.uploader._hovering[_ngcontent-%COMP%]{border:2px solid #1880fe;background:#f8fbfe}.uploader[_ngcontent-%COMP%]   .uploader__title[_ngcontent-%COMP%]{color:#1b2a4f;font-size:1.3rem;line-height:1.6rem;margin:0}.uploader[_ngcontent-%COMP%]   .uploader__desc[_ngcontent-%COMP%]{color:#969dad;font-size:.9rem;line-height:1.4rem;margin:10px 0 0}.uploader[_ngcontent-%COMP%]   .uploader__input[_ngcontent-%COMP%]{position:absolute;display:block;width:100%;top:0;right:0;bottom:0;left:0;cursor:pointer;opacity:0}.uploader[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),e})();function P(e,t){1&e&&r["\u0275\u0275elementContainer"](0)}function w(e,t){1&e&&r["\u0275\u0275element"](0,"img",11),2&e&&r["\u0275\u0275property"]("src",t.$implicit.url,r["\u0275\u0275sanitizeUrl"])}function M(e,t){if(1&e&&(r["\u0275\u0275template"](0,P,1,0,"ng-container",9),r["\u0275\u0275pipe"](1,"async"),r["\u0275\u0275element"](2,"app-uploader"),r["\u0275\u0275template"](3,w,1,1,"img",10),r["\u0275\u0275pipe"](4,"async")),2&e){const e=r["\u0275\u0275nextContext"]();var n;r["\u0275\u0275property"]("ngIf",!(null!=(n=r["\u0275\u0275pipeBind1"](1,2,e.uploadedFiles$))&&n.length)),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("ngForOf",r["\u0275\u0275pipeBind1"](4,4,e.uploadedFiles$))}}let k=(()=>{class e{constructor(e,t){this.uploadService=e,this.companyService=t}set company(e){(null==e?void 0:e.length)?(this._company=e[0],this.companyService.setCompany(this._company)):this._company=this.companyService.getCompany()}get company(){return this._company}ngOnInit(){this.getFiles()}getFiles(){this.uploadedFiles$=this.uploadService.getFiles(10).valueChanges()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](m),r["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-settings-logotype"]],inputs:{company:"company"},decls:13,vars:10,consts:[[1,"accordion",3,"rounded","closeOthers"],["borders","all",3,"showArrow"],[1,"accordion__header"],[1,"accordion__header-icon"],["src","tuiIconAlertCircleLarge","size","s","mode","primary",1,"operation-icon"],[1,"accordion__title"],[1,"accordion__info"],[1,"accordion__status"],["tuiAccordionItemContent",""],[4,"ngIf"],["alt","",3,"src",4,"ngFor","ngForOf"],["alt","",3,"src"]],template:function(e,t){var n,o;1&e&&(r["\u0275\u0275elementStart"](0,"tui-accordion",0),r["\u0275\u0275elementStart"](1,"tui-accordion-item",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275element"](4,"tui-marker-icon",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",5),r["\u0275\u0275text"](6,"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"div",7),r["\u0275\u0275pipe"](9,"async"),r["\u0275\u0275text"](10),r["\u0275\u0275pipe"](11,"async"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](12,M,5,6,"ng-template",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("rounded",!1)("closeOthers",!1),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("showArrow",!0),r["\u0275\u0275advance"](7),r["\u0275\u0275classProp"]("_success",null==(n=r["\u0275\u0275pipeBind1"](9,6,t.uploadedFiles$))?null:n.length),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate1"](" ",null!=(o=r["\u0275\u0275pipeBind1"](11,8,t.uploadedFiles$))&&o.length?"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e":"\u041d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"," "))},directives:[u.a,u.b,g.a,u.c,o.m,S,o.l],pipes:[o.b],styles:[".accordion[_ngcontent-%COMP%]{margin-bottom:20px}.accordion[_ngcontent-%COMP%]   .accordion__header[_ngcontent-%COMP%]{font:var(--tui-font-text-l);display:flex;align-items:center}.accordion[_ngcontent-%COMP%]   .accordion__header-icon[_ngcontent-%COMP%]{display:inline-flex;flex-shrink:0;margin:0 15px 0 0}.accordion[_ngcontent-%COMP%]   .accordion__title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:24px;flex-grow:1}.accordion[_ngcontent-%COMP%]   .accordion__info[_ngcontent-%COMP%]{color:var(--tui-text-02);text-align:right}.accordion[_ngcontent-%COMP%]   .accordion__status[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.accordion[_ngcontent-%COMP%]   .accordion__status._success[_ngcontent-%COMP%]{color:var(--tui-success-fill)}.accordion[_ngcontent-%COMP%]   .accordion__status._error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}"]}),e})();var I=n("3Pt+"),E=n("J0k7"),V=n("2T0e"),B=n("y3l0");function D(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"tui-input-number",11),r["\u0275\u0275listener"]("change",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).getCompanyInformation()})),r["\u0275\u0275text"](1," \u0423\u041d\u041f "),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("formControl",e.unp)}}function F(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"app-company-panel",12),r["\u0275\u0275listener"]("change",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).changeCompany()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("data",e.company)("isLoaded",e.isCompanySelected)}}function $(e,t){if(1&e&&(r["\u0275\u0275template"](0,D,2,1,"tui-input-number",9),r["\u0275\u0275template"](1,F,1,2,"app-company-panel",10)),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngIf",!e.isCompanySelected),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isCompanySelected)}}let j=(()=>{class e{constructor(e,t){this.egrService=e,this.companyService=t,this.unp=new I.FormControl(null)}set company(e){(null==e?void 0:e.length)?(this._company=e[0],this.companyService.setCompany(this._company),this.checkValid()):this._company=this.companyService.getCompany()}get company(){return this._company}ngOnInit(){this.companyService.getCompanyState$().subscribe(e=>{this.isCompanySelected=this.companyService.isCompanyInfoValid(e),this.checkValid()})}getCompanyInformation(){return this.unp.value&&(this.egrService.getAllByUnp(this.unp.value),this.isValid&&(this.isCompanySelected=!0)),this.company}changeCompany(){this.companyService.clearCompanyInfo(),this.unp.setValue(null),this.isCompanySelected=!1}checkValid(){this.isValid=this.companyService.isCompanyInfoValid(this.company),this.isValid&&(this.isCompanySelected=!0)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](E.a),r["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-settings-information"]],inputs:{company:"company"},decls:11,vars:6,consts:[[1,"accordion",3,"rounded","closeOthers"],["borders","all",3,"showArrow"],[1,"accordion__header"],[1,"accordion__header-icon"],["src","tuiIconAlertCircleLarge","size","s","mode","primary",1,"operation-icon"],[1,"accordion__title"],[1,"accordion__info"],[1,"accordion__status"],["tuiAccordionItemContent",""],["class","tui-space_top-2","min","100000000","max","999999999",3,"formControl","change",4,"ngIf"],[3,"data","isLoaded","change",4,"ngIf"],["min","100000000","max","999999999",1,"tui-space_top-2",3,"formControl","change"],[3,"data","isLoaded","change"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"tui-accordion",0),r["\u0275\u0275elementStart"](1,"tui-accordion-item",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275element"](4,"tui-marker-icon",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",5),r["\u0275\u0275text"](6,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"div",7),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](10,$,2,2,"ng-template",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("rounded",!1)("closeOthers",!1),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("showArrow",!0),r["\u0275\u0275advance"](7),r["\u0275\u0275classProp"]("_success",t.isValid),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.isValid?"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e":"\u041d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"," "))},directives:[u.a,u.b,g.a,u.c,o.m,V.a,I.NgControlStatus,I.FormControlDirective,B.a],styles:[".accordion[_ngcontent-%COMP%]{margin-bottom:20px}.accordion[_ngcontent-%COMP%]   .accordion__header[_ngcontent-%COMP%]{font:var(--tui-font-text-l);display:flex;align-items:center}.accordion[_ngcontent-%COMP%]   .accordion__header-icon[_ngcontent-%COMP%]{display:inline-flex;flex-shrink:0;margin:0 15px 0 0}.accordion[_ngcontent-%COMP%]   .accordion__title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:24px;flex-grow:1}.accordion[_ngcontent-%COMP%]   .accordion__info[_ngcontent-%COMP%]{color:var(--tui-text-02);text-align:right}.accordion[_ngcontent-%COMP%]   .accordion__status[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.accordion[_ngcontent-%COMP%]   .accordion__status._success[_ngcontent-%COMP%]{color:var(--tui-success-fill)}.accordion[_ngcontent-%COMP%]   .accordion__status._error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}"]}),e})();var A=n("yis4"),L=n("n6v2");function U(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"app-bank-select",11),r["\u0275\u0275listener"]("change",(function(t){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).changeBank(t)})),r["\u0275\u0275elementEnd"]()}}function z(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"app-bank-panel",12),r["\u0275\u0275listener"]("change",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"](2).changeBank()})),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"](2);r["\u0275\u0275property"]("data",e.company.bankAccount.bank)("isLoaded",e.isBankSelected)}}function R(e,t){if(1&e&&(r["\u0275\u0275template"](0,U,1,0,"app-bank-select",9),r["\u0275\u0275template"](1,z,1,2,"app-bank-panel",10)),2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngIf",!e.isBankSelected),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",e.isBankSelected)}}let N=(()=>{class e{constructor(e){this.companyService=e}set company(e){(null==e?void 0:e.length)?(this._company=e[0],this.companyService.setCompany(this._company),this.checkValid()):this._company=this.companyService.getCompany()}get company(){return this._company}ngOnInit(){this.companyService.getCompanyState$().subscribe(e=>{this.company=e,this.checkValid()})}changeBank(e){this.company&&e&&e.CDBank?this.company.bankAccount.bank=e:this.companyService.clearCompanyBank(),this.companyService.setCompany(this.company),this.checkValid()}checkValid(){this.isValid=this.companyService.isCompanyBankValid(this.company),this.isBankSelected=!!this.isValid}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-settings-banks"]],inputs:{company:"company"},decls:11,vars:6,consts:[[1,"accordion",3,"rounded","closeOthers"],["borders","all",3,"showArrow"],[1,"accordion__header"],[1,"accordion__header-icon"],["src","tuiIconAlertCircleLarge","size","s","mode","primary",1,"operation-icon"],[1,"accordion__title"],[1,"accordion__info"],[1,"accordion__status"],["tuiAccordionItemContent",""],[3,"change",4,"ngIf"],[3,"data","isLoaded","change",4,"ngIf"],[3,"change"],[3,"data","isLoaded","change"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"tui-accordion",0),r["\u0275\u0275elementStart"](1,"tui-accordion-item",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275element"](4,"tui-marker-icon",4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",5),r["\u0275\u0275text"](6,"\u0411\u0430\u043d\u043a"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"div",7),r["\u0275\u0275text"](9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](10,R,2,2,"ng-template",8),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("rounded",!1)("closeOthers",!1),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("showArrow",!0),r["\u0275\u0275advance"](7),r["\u0275\u0275classProp"]("_success",t.isValid),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.isValid?"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e":"\u041d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"," "))},directives:[u.a,u.b,g.a,u.c,o.m,A.a,L.a],styles:[".accordion[_ngcontent-%COMP%]{margin-bottom:20px}.accordion[_ngcontent-%COMP%]   .accordion__header[_ngcontent-%COMP%]{font:var(--tui-font-text-l);display:flex;align-items:center}.accordion[_ngcontent-%COMP%]   .accordion__header-icon[_ngcontent-%COMP%]{display:inline-flex;flex-shrink:0;margin:0 15px 0 0}.accordion[_ngcontent-%COMP%]   .accordion__title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:24px;flex-grow:1}.accordion[_ngcontent-%COMP%]   .accordion__info[_ngcontent-%COMP%]{color:var(--tui-text-02);text-align:right}.accordion[_ngcontent-%COMP%]   .accordion__status[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.accordion[_ngcontent-%COMP%]   .accordion__status._success[_ngcontent-%COMP%]{color:var(--tui-success-fill)}.accordion[_ngcontent-%COMP%]   .accordion__status._error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}"]}),e})();var T=n("NEux");const H=[{path:"",component:(()=>{class e{constructor(e,t){this.companyService=e,this.router=t,this.getProfileCompany$()}ngOnInit(){this.companyService.getCompanyState$().subscribe(e=>{this.company=e,this.isCompanyValid=this.companyService.isCompanyValid(this.company)})}save(){this.company._id?this.update():this.companyService.add$(this.company).subscribe(e=>{this.router.navigate([a.a.routing.admin.settings.main])})}update(){this.companyService.update$(this.company._id,this.company).subscribe(e=>{this.router.navigate([a.a.routing.admin.settings.main])})}getProfileCompany$(){this.company$=this.companyService.getProfileCompany$()}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](c.a),r["\u0275\u0275directiveInject"](i.b))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company"]],decls:12,vars:11,consts:[[1,"header"],[1,"tui-container"],[1,"tui-row","tui-row_sme"],[1,"tui-col_12"],[3,"company"],["tuiButton","","type","button","appearance","primary",1,"tui-space_right-3","tui-space_bottom-3",3,"disabled","click"]],template:function(e,t){1&e&&(r["\u0275\u0275element"](0,"div",0),r["\u0275\u0275elementStart"](1,"section",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275elementStart"](3,"div",3),r["\u0275\u0275element"](4,"app-company-settings-logotype",4),r["\u0275\u0275pipe"](5,"async"),r["\u0275\u0275element"](6,"app-company-settings-information",4),r["\u0275\u0275pipe"](7,"async"),r["\u0275\u0275element"](8,"app-company-settings-banks",4),r["\u0275\u0275pipe"](9,"async"),r["\u0275\u0275elementStart"](10,"button",5),r["\u0275\u0275listener"]("click",(function(){return t.save()})),r["\u0275\u0275text"](11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](4),r["\u0275\u0275property"]("company",r["\u0275\u0275pipeBind1"](5,5,t.company$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("company",r["\u0275\u0275pipeBind1"](7,7,t.company$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("company",r["\u0275\u0275pipeBind1"](9,9,t.company$)),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("disabled",!t.isCompanyValid),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",t.company._id?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"," "))},directives:[k,j,N,T.a],pipes:[o.b],styles:[".header[_ngcontent-%COMP%]{position:sticky;height:80px;margin:-15px -15px 15px;padding:15px;border-bottom:1px solid var(--color-graphite)}.accordion[_ngcontent-%COMP%]   .accordion__header[_ngcontent-%COMP%]{font:var(--tui-font-text-l);display:flex;align-items:center}.accordion[_ngcontent-%COMP%]   .accordion__header-icon[_ngcontent-%COMP%]{display:inline-flex;flex-shrink:0;margin:0 15px 0 0}.accordion[_ngcontent-%COMP%]   .accordion__title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:24px;flex-grow:1}.accordion[_ngcontent-%COMP%]   .accordion__info[_ngcontent-%COMP%]{color:var(--tui-text-02);text-align:right}.accordion[_ngcontent-%COMP%]   .accordion__status[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.accordion[_ngcontent-%COMP%]   .accordion__status._success[_ngcontent-%COMP%]{color:var(--tui-success-fill)}.accordion[_ngcontent-%COMP%]   .accordion__status._error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}"]}),e})()}];let G=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.f.forChild(H)],i.f]}),e})();var J=n("g6NQ"),Q=n("PCNd");let X=(()=>{class e{}return e.\u0275mod=r["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=r["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,G,Q.a,T.b,u.d,V.b,J.a,g.b]]}),e})()}}]);