(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{L2cj:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsModule",(function(){return le}));var a=n("ofXK"),o=n("8v+o"),r=n("2T0e"),i=n("g6NQ"),s=n("RRv3"),l=n("tyNb"),c=n("5UT2"),p=n("j+be"),d=n("fXoL"),u=n("nYR2"),m=n("Vaw3"),g=n("sSZD"),f=n("lGQG");let h=(()=>{class e{constructor(e,t,n){this._afStorage=e,this._afDB=t,this._auth=n,this.basePath="/uploads"}pushFileToStorage(e){const t=`${this.basePath}/${e.file.name}`,n=this._afStorage.ref(t),a=this._afStorage.upload(t,(null==e?void 0:e.file)||null);return a.snapshotChanges().pipe(Object(u.a)(()=>{n.getDownloadURL().subscribe(t=>{e.url=t,e.name=e.file.name,e._userId=this._auth.getUserId(),this.saveFileData(e)})})).subscribe(),a.percentageChanges()}saveFileData(e){this._afDB.list(this.basePath).push(e)}getFiles(e){return this._afDB.list(this.basePath,t=>t.limitToLast(e))}deleteFile(e){this.deleteFileDatabase(e.key).then(()=>{this.deleteFileStorage(e.name)}).catch(e=>console.log(e))}deleteFileDatabase(e){return this._afDB.list(this.basePath).remove(e)}deleteFileStorage(e){this._afStorage.ref(this.basePath).child(e).delete()}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](m.a),d["\u0275\u0275inject"](g.a),d["\u0275\u0275inject"](f.a))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=n("Cfvw"),y=n("cp0P"),b=n("tk/3"),_=n("OC8m");let x=(()=>{class e{constructor(e,t){this._http=e,this._notification=t}getBaseInfoByRegNum(e){return Object(v.a)(this._http.get("https://solidexcrm.com/api/v2/egr/getBaseInfoByRegNum/"+e))}getAddressByRegNum(e){return Object(v.a)(this._http.get("https://solidexcrm.com/api/v2/egr/getAddressByRegNum/"+e))}getJurNamesByRegNum(e){return Object(v.a)(this._http.get("https://solidexcrm.com/api/v2/egr/getJurNamesByRegNum/"+e))}getVEDByRegNum(e){return Object(v.a)(this._http.get("https://solidexcrm.com/api/v2/egr/getVEDByRegNum/"+e))}getIPFIOByRegNum(e){return Object(v.a)(this._http.get("https://solidexcrm.com/api/v2/egr/getIPFIOByRegNum/"+e))}getAllByUnp(e){let t=new p.a;return Object(y.a)([this.getBaseInfoByRegNum(e),this.getAddressByRegNum(e),this.getJurNamesByRegNum(e),this.getVEDByRegNum(e),this.getIPFIOByRegNum(e)]).subscribe({next:n=>{if(n.every(e=>null===e))return void this._notification.warning("\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u043c\u0438 \u0423\u041d\u041f \u043d\u0435 \u0431\u044b\u043b \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0431\u0430\u0437\u0435 \u0415\u0413\u0420 \u0438 \u0441\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u044b\u043c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430 \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445");let a=n[1],o=n[2],r=n[3],i=n[4];t._type=n[0][0].nsi00211.nkvob,t.info=1===t._type?this.mappingJurNames(o[0]):this.mappingIPFIOByRegNum(i[0]),t.juridicalAddress=this.mappingJurAddress(a[0]),t.ved=r[0],t.info.unp=e},error:e=>{switch(e.status){case 400:this._notification.error("\u041f\u043b\u043e\u0445\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","\u041f\u043b\u043e\u0445\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441");break;default:this._notification.error(e.error.message,e.error.error)}}}),t}mappingJurAddress(e){var t,n;let a=new p.d;return a.city=e.vnp,a.cityType=e.nsi00239.vntnpk,a.country=e.nsi00201.vnstranp,a.houseNumber=e.vdom,a.office=e.vpom,a.officeType=(null===(t=e.nsi00227)||void 0===t?void 0:t.vntpomk)||null,a.street=e.vulitsa,a.streetType=e.nsi00226.vntulk,a.zipCode=e.nindex,a.phone=(null===(n=e.vtels)||void 0===n?void 0:n.replace(/\s/g,""))||null,a.email=e.vemail,a.fax=e.vfax,a.vnsfull=e.nsi00202.vnsfull,a}mappingJurNames(e){let t=new p.e;return t.fullName=e.vnaim,t.shortName=e.vn,t.name=e.vfn,t.fullNameBel=e.vnaimb,t.shortNameBel=e.vnb,t.nameBel=e.vfnb,t.registrationDate=e.dcrta,t}mappingIPFIOByRegNum(e){let t=new p.e;return t.fullName="\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c "+e.vfio,t.shortName="\u0418\u041f "+e.vfio,t.name="\u0418\u041f "+e.vfio,t.fullNameBel="I\u043d\u0434\u044b\u0432\u0456\u0434\u0443\u0430\u043b\u044c\u043d\u044b \u043f\u0440\u0430\u0434\u043f\u0440\u044b\u043c\u0430\u043b\u044c\u043d\u0456\u043a "+e.vfio,t.shortNameBel="I\u041f "+e.vfio,t.nameBel="I\u041f "+e.vfio,t.registrationDate=e.dcrta,t.unp=e.ngrn,t}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](b.a),d["\u0275\u0275inject"](_.a))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var C=n("NEux");let w=(()=>{class e{constructor(){this.dropped=new d.EventEmitter,this.hovered=new d.EventEmitter}onDrop(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}onDragOver(e){e.preventDefault(),this.hovered.emit(!0)}onDragLeave(e){e.preventDefault(),this.hovered.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=d["\u0275\u0275defineDirective"]({type:e,selectors:[["","dropzone",""]],hostBindings:function(e,t){1&e&&d["\u0275\u0275listener"]("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},outputs:{dropped:"dropped",hovered:"hovered"}}),e})();var k=n("mrSG"),I=n("vkgz"),S=n("I/3d");function O(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275element"](1,"progress",1),d["\u0275\u0275text"](2),d["\u0275\u0275pipe"](3,"number"),d["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](3,2,e),"%\n")}}function B(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275elementStart"](1,"h3"),d["\u0275\u0275text"](2,"Results!"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](3,"img",3),d["\u0275\u0275element"](4,"br"),d["\u0275\u0275elementStart"](5,"a",4),d["\u0275\u0275text"](6,"Download Me!"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("src",e,d["\u0275\u0275sanitizeUrl"]),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("href",e,d["\u0275\u0275sanitizeUrl"])}}function E(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275text"](1),d["\u0275\u0275template"](2,B,7,2,"div",0),d["\u0275\u0275elementStart"](3,"button",2),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().task.pause()})),d["\u0275\u0275text"](4,"Pause"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"button",2),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().task.cancel()})),d["\u0275\u0275text"](6,"Cancel"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"button",2),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().task.resume()})),d["\u0275\u0275text"](8,"Resume"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf,n=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate2"](" ",e.bytesTransferred," of ",e.totalBytes," "),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",n.downloadURL),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("disabled",!n.isActive(e)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",!n.isActive(e)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",!("paused"===(null==e?null:e.state)))}}let P=(()=>{class e{constructor(e,t){this.storage=e,this.db=t}ngOnInit(){this.startUpload()}startUpload(){const e=`test/${Date.now()}_${this.file.name}`,t=this.storage.ref(e);this.task=this.storage.upload(e,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe(Object(I.a)(console.log),Object(u.a)(()=>Object(k.b)(this,void 0,void 0,(function*(){this.downloadURL=yield t.getDownloadURL().toPromise(),this.db.collection("files").add({downloadURL:this.downloadURL,path:e})}))))}isActive(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](m.a),d["\u0275\u0275directiveInject"](S.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploader-task"]],inputs:{file:"file"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[3,"disabled","click"],[3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,O,4,4,"div",0),d["\u0275\u0275pipe"](1,"async"),d["\u0275\u0275template"](2,E,9,6,"div",0),d["\u0275\u0275pipe"](3,"async")),2&e&&(d["\u0275\u0275property"]("ngIf",d["\u0275\u0275pipeBind1"](1,2,t.percentage)),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",d["\u0275\u0275pipeBind1"](3,4,t.snapshot)))},directives:[a.m],pipes:[a.b,a.e],styles:[""]}),e})();function N(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"div"),d["\u0275\u0275element"](1,"app-uploader-task",5),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("file",e)}}let M=(()=>{class e{constructor(){this.files=[]}toggleHover(e){this.isHovering=e}onDrop(e){for(let t=0;t<e.length;t++)this.files.push(e.item(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-uploader"]],decls:9,vars:3,consts:[["dropzone","",1,"uploader","dropzone",3,"hovered","dropped"],[1,"uploader__title"],[1,"uploader__desc"],["type","file","multiple","",1,"uploader__input"],[4,"ngFor","ngForOf"],[3,"file"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",0),d["\u0275\u0275listener"]("hovered",(function(e){return t.toggleHover(e)}))("dropped",(function(e){return t.onDrop(e)})),d["\u0275\u0275elementStart"](1,"h3",1),d["\u0275\u0275text"](2,"Drop your files here or click here"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"p",2),d["\u0275\u0275text"](4,"Upload images or files what you want. Maximum size 2mb"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"input",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](6,"h3"),d["\u0275\u0275text"](7,"Uploads"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](8,N,2,1,"div",4)),2&e&&(d["\u0275\u0275classProp"]("_hovering",t.isHovering),d["\u0275\u0275advance"](8),d["\u0275\u0275property"]("ngForOf",t.files))},directives:[w,a.l,P],styles:[".uploader[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;font-weight:200;height:300px;border:2px dashed #ced2dc;border-radius:5px;background:#fff;margin:10px 0;cursor:pointer;transition:all .3s ease-in-out}.uploader[_ngcontent-%COMP%]:hover{border:2px dashed #1880fe}.uploader._hovering[_ngcontent-%COMP%]{border:2px solid #1880fe;background:#f8fbfe}.uploader[_ngcontent-%COMP%]   .uploader__title[_ngcontent-%COMP%]{color:#1b2a4f;font-size:1.3rem;line-height:1.6rem;margin:0}.uploader[_ngcontent-%COMP%]   .uploader__desc[_ngcontent-%COMP%]{color:#969dad;font-size:.9rem;line-height:1.4rem;margin:10px 0 0}.uploader[_ngcontent-%COMP%]   .uploader__input[_ngcontent-%COMP%]{position:absolute;display:block;width:100%;top:0;right:0;bottom:0;left:0;cursor:pointer;opacity:0}.uploader[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),e})();var j=n("3Pt+"),D=n("kqZG");function F(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"div",1),d["\u0275\u0275element"](1,"tui-avatar",2),d["\u0275\u0275elementStart"](2,"div",3),d["\u0275\u0275elementStart"](3,"p",4),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"h4",5),d["\u0275\u0275text"](6),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"button",6),d["\u0275\u0275listener"]("click",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().change.emit(!0)})),d["\u0275\u0275text"](8," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("text",null==e.data||null==e.data.info?null:e.data.info.shortName)("autoColor",!0),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"]("\u0423\u041d\u041f: ",(null==e.data||null==e.data.info?null:e.data.info.unp)||"\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e",""),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](null==e.data||null==e.data.info?null:e.data.info.shortName)}}let V=(()=>{class e{constructor(){this.change=new d.EventEmitter}ngOnInit(){}ngOnChanges(e){e.data&&(new p.a).isCompanyValid(e.data.currentValue)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-panel"]],inputs:{data:"data",isLoaded:"isLoaded"},outputs:{change:"change"},features:[d["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[["class","company",4,"ngIf"],[1,"company"],[1,"tui-space_right-3",3,"text","autoColor"],[1,"company__content"],[1,"company__subtitle","tui-text_body-s"],[1,"company__title","tui-text_body-m","tui-space_top-0","tui-space_bottom-0"],["tuiButton","","type","button","appearance","outline","size","m",1,"tui-space_left-3",3,"click"]],template:function(e,t){1&e&&d["\u0275\u0275template"](0,F,9,4,"div",0),2&e&&d["\u0275\u0275property"]("ngIf",t.data&&t.data.info.unp)},directives:[a.m,D.a,C.a],styles:[".company[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--tui-base-04);border-radius:0;padding:15px;margin:0}.company[_ngcontent-%COMP%]   .company__content[_ngcontent-%COMP%]{width:100%}.company[_ngcontent-%COMP%]   .company__title[_ngcontent-%COMP%]{margin:0;font-weight:600}.company[_ngcontent-%COMP%]   .company__subtitle[_ngcontent-%COMP%]{margin:0;font-weight:400;color:var(--tui-text-03)}"]}),e})();var R=n("nXPc"),A=n("Ni9E"),L=n("lJxs");let $=(()=>{class e{constructor(e,t){this._http=e,this._notification=t,this.bankInfo=new c.a}getBankByBIC$(e){return this._http.get("https://www.nbrb.by/api/bic?cdbank="+e)}getAllBank$(){return this._http.get("https://www.nbrb.by/api/bic")}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275inject"](b.a),d["\u0275\u0275inject"](_.a))},e.\u0275prov=d["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var T=n("q9Vr"),U=n("m1/c"),z=n("iy9C");function J(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",6),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const n=t.$implicit;return d["\u0275\u0275nextContext"](4).onSelected(n)})),d["\u0275\u0275elementStart"](1,"p",7),d["\u0275\u0275text"](2),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"p",8),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",e.NmBankShort," "),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate1"](" ",e.CDBank," ")}}function G(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tui-data-list"),d["\u0275\u0275template"](1,J,5,3,"button",5),d["\u0275\u0275elementEnd"]()),2&e){const e=d["\u0275\u0275nextContext"](2).tuiLet;d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e)}}function H(e,t){1&e&&(d["\u0275\u0275elementContainerStart"](0),d["\u0275\u0275template"](1,G,2,1,"tui-data-list",4),d["\u0275\u0275elementContainerEnd"]())}function q(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"tui-input",2),d["\u0275\u0275text"](1," Bank "),d["\u0275\u0275template"](2,H,2,0,"ng-container",3),d["\u0275\u0275elementEnd"]()),2&e){const e=t.tuiLet,n=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("tuiTextfieldCustomContent",n.content),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngIf",null==e?null:e.length)}}let W=(()=>{class e{constructor(e){this._bank=e,this.change=new d.EventEmitter,this.banks=[],this.bankVal=new j.FormControl(null,j.Validators.required),this.form=new j.FormGroup({bank:this.bankVal}),this.banksSort$=Object(R.f)(this.bankVal).pipe(Object(L.a)(e=>{const t=this.banks.filter(t=>Object(A.i)(t.CDBank,e)||Object(A.i)(t.NmBankShort,e)&&null===t.DtEnd);return 1!==t.length||String(t[0]).toLowerCase()!==e.toLowerCase()?t:(this.onSelected(t[0]),[])})),this._bank.getAllBank$().subscribe({next:e=>{this.banks=e}})}ngOnInit(){this.banks$=this.getAllBank()}getAllBank(){return this._bank.getAllBank$()}onSelected(e){this.form.get("bank").setValue(e),this.change.emit(this.form.controls.bank.value)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"]($))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-bank-select"]],outputs:{change:"change"},decls:6,vars:7,consts:[[3,"formGroup"],["formControlName","bank","tuiTextfieldExampleText","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e BIC",3,"tuiTextfieldCustomContent",4,"tuiLet"],["formControlName","bank","tuiTextfieldExampleText","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430 \u0438\u043b\u0438 \u0435\u0433\u043e BIC",3,"tuiTextfieldCustomContent"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","","class","banl-item",3,"value","click",4,"ngFor","ngForOf"],["tuiOption","",1,"banl-item",3,"value","click"],[1,"bank-item__title"],[1,"bank-item__bic"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"form",0),d["\u0275\u0275template"](1,q,3,2,"tui-input",1),d["\u0275\u0275pipe"](2,"async"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"p"),d["\u0275\u0275text"](4),d["\u0275\u0275pipe"](5,"json"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("formGroup",t.form),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("tuiLet",d["\u0275\u0275pipeBind1"](2,3,t.banksSort$)),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](5,5,t.form.controls.bank.value),"\n"))},directives:[j["\u0275angular_packages_forms_forms_y"],j.NgControlStatusGroup,j.FormGroupDirective,T.a,U.a,j.NgControlStatus,j.FormControlName,a.m,z.b,z.a,a.l,z.f],pipes:[a.b,a.g],styles:[""]}),e})();function X(e,t){1&e&&d["\u0275\u0275elementContainer"](0)}function Q(e,t){1&e&&d["\u0275\u0275element"](0,"img",17),2&e&&d["\u0275\u0275property"]("src",t.$implicit.url,d["\u0275\u0275sanitizeUrl"])}function Z(e,t){if(1&e&&(d["\u0275\u0275template"](0,X,1,0,"ng-container",15),d["\u0275\u0275pipe"](1,"async"),d["\u0275\u0275element"](2,"app-uploader"),d["\u0275\u0275template"](3,Q,1,1,"img",16),d["\u0275\u0275pipe"](4,"async")),2&e){const e=d["\u0275\u0275nextContext"]();var n;d["\u0275\u0275property"]("ngIf",!(null!=(n=d["\u0275\u0275pipeBind1"](1,2,e.uploadedFiles$))&&n.length)),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngForOf",d["\u0275\u0275pipeBind1"](4,4,e.uploadedFiles$))}}function K(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"tui-input-number",20),d["\u0275\u0275listener"]("ngModelChange",(function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).unp=t}))("change",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).getCompanyInformation()})),d["\u0275\u0275text"](1," \u0423\u041d\u041f "),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("ngModel",e.unp)}}function Y(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"app-company-panel",21),d["\u0275\u0275listener"]("change",(function(){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"](2).changeCompany()})),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"](2);d["\u0275\u0275property"]("data",e.companyInfo)("isLoaded",e.selectedCompany)}}function ee(e,t){if(1&e&&(d["\u0275\u0275template"](0,K,2,1,"tui-input-number",18),d["\u0275\u0275template"](1,Y,1,2,"app-company-panel",19)),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("ngIf",!e.isCompanySelected),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",e.isCompanySelected)}}function te(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"app-bank-select",22),d["\u0275\u0275listener"]("change",(function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().changeBank(t)})),d["\u0275\u0275elementEnd"]()}}let ne=(()=>{class e{constructor(e,t){this._upload=e,this._egr=t,this.companyInfo=new p.a,this.bankInfo=new c.b}ngOnInit(){this.getFiles()}getFiles(){this.uploadedFiles$=this._upload.getFiles(10).valueChanges()}getCompanyInformation(){this.unp&&(this.companyInfo=this._egr.getAllByUnp(this.unp),this.isCompanySelected=!0)}getBlockStatus(e){switch(e){case"logotype":return!0;case"legalInformation":return this.companyInfo.isCompanyInfoValid(this.companyInfo);case"bank":return this.companyInfo.isCompanyBankValid(this.companyInfo);case"signature":default:return!1}}changeCompany(){this.companyInfo.info=new p.b,this.isCompanySelected=!1}changeBank(e){this.companyInfo.bankAccount.bank=e}get isCompanyValid(){return this.companyInfo.isCompanyValid(this.companyInfo)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](h),d["\u0275\u0275directiveInject"](x))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company"]],decls:40,vars:18,consts:[[1,"header"],[1,"tui-container"],[1,"tui-row","tui-row_sme"],[1,"tui-col_12"],[1,"accordion",3,"rounded","closeOthers"],["borders","all",1,"accordion",3,"showArrow"],[1,"accordion__header"],[1,"accordion__header-icon"],["src","tuiIconAlertCircleLarge","size","s","mode","primary",1,"operation-icon"],[1,"accordion__title"],[1,"accordion__info"],[1,"accordion__status"],["tuiAccordionItemContent",""],["borders","all",3,"showArrow"],["tuiButton","","type","button","appearance","primary",1,"tui-space_right-3","tui-space_bottom-3",3,"disabled"],[4,"ngIf"],["alt","",3,"src",4,"ngFor","ngForOf"],["alt","",3,"src"],["class","tui-space_top-2","min","100000000","max","999999999",3,"ngModel","ngModelChange","change",4,"ngIf"],[3,"data","isLoaded","change",4,"ngIf"],["min","100000000","max","999999999",1,"tui-space_top-2",3,"ngModel","ngModelChange","change"],[3,"data","isLoaded","change"],[3,"change"]],template:function(e,t){1&e&&(d["\u0275\u0275element"](0,"div",0),d["\u0275\u0275elementStart"](1,"section",1),d["\u0275\u0275elementStart"](2,"div",2),d["\u0275\u0275elementStart"](3,"div",3),d["\u0275\u0275elementStart"](4,"tui-accordion",4),d["\u0275\u0275elementStart"](5,"tui-accordion-item",5),d["\u0275\u0275elementStart"](6,"div",6),d["\u0275\u0275elementStart"](7,"div",7),d["\u0275\u0275element"](8,"tui-marker-icon",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](9,"div",9),d["\u0275\u0275text"](10,"\u041b\u043e\u0433\u043e\u0442\u0438\u043f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](11,"div",10),d["\u0275\u0275elementStart"](12,"div",11),d["\u0275\u0275text"](13),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](14,Z,5,6,"ng-template",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"tui-accordion-item",13),d["\u0275\u0275elementStart"](16,"div",6),d["\u0275\u0275elementStart"](17,"div",7),d["\u0275\u0275element"](18,"tui-marker-icon",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",9),d["\u0275\u0275text"](20,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"div",10),d["\u0275\u0275elementStart"](22,"div",11),d["\u0275\u0275text"](23),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](24,ee,2,2,"ng-template",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"tui-accordion-item",13),d["\u0275\u0275elementStart"](26,"div",6),d["\u0275\u0275elementStart"](27,"div",7),d["\u0275\u0275element"](28,"tui-marker-icon",8),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"div",9),d["\u0275\u0275text"](30,"\u0411\u0430\u043d\u043a"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](31,"div",10),d["\u0275\u0275elementStart"](32,"div",11),d["\u0275\u0275text"](33),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](34,te,1,0,"ng-template",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](35,"button",14),d["\u0275\u0275text"](36," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](37,"h3"),d["\u0275\u0275text"](38),d["\u0275\u0275pipe"](39,"json"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("rounded",!1)("closeOthers",!1),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("showArrow",!0),d["\u0275\u0275advance"](7),d["\u0275\u0275classProp"]("_success",t.getBlockStatus("logotype")),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.getBlockStatus("logotype")?"Approved":"Waiting for approve"," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("showArrow",!0),d["\u0275\u0275advance"](7),d["\u0275\u0275classProp"]("_success",t.getBlockStatus("legalInformation")),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.getBlockStatus("legalInformation")?"Approved":"Waiting for approve"," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("showArrow",!0),d["\u0275\u0275advance"](7),d["\u0275\u0275classProp"]("_success",t.getBlockStatus("bank")),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",t.getBlockStatus("bank")?"Approved":"Waiting for approve"," "),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("disabled",!t.isCompanyValid),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](39,16,t.companyInfo)))},directives:[o.a,o.b,s.a,o.c,C.a,a.m,M,a.l,r.a,j.NgControlStatus,j.NgModel,V,W],pipes:[a.g,a.b],styles:[".header[_ngcontent-%COMP%]{position:sticky;height:80px;margin:-15px -15px 15px;padding:15px;border-bottom:1px solid var(--color-graphite)}.accordion[_ngcontent-%COMP%]   .accordion__header[_ngcontent-%COMP%]{font:var(--tui-font-text-l);display:flex;align-items:center}.accordion[_ngcontent-%COMP%]   .accordion__header-icon[_ngcontent-%COMP%]{display:inline-flex;flex-shrink:0;margin:0 15px 0 0}.accordion[_ngcontent-%COMP%]   .accordion__title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:24px;flex-grow:1}.accordion[_ngcontent-%COMP%]   .accordion__info[_ngcontent-%COMP%]{color:var(--tui-text-02);text-align:right}.accordion[_ngcontent-%COMP%]   .accordion__status[_ngcontent-%COMP%]{font:var(--tui-font-text-s)}.accordion[_ngcontent-%COMP%]   .accordion__status._success[_ngcontent-%COMP%]{color:var(--tui-success-fill)}.accordion[_ngcontent-%COMP%]   .accordion__status._error[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[_nghost-%COMP%]     .tui-group_orientation_vertical.tui-group_collapsed>:not(:last-child){margin-bottom:20px}"]}),e})();var ae=n("AytR");const oe=function(e){return[e]},re=[{path:"",component:(()=>{class e{constructor(){this.routing=ae.a.routing}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-settings"]],decls:4,vars:3,consts:[["tuiButton","","type","button","appearance","outline",1,"tui-space_right-3","tui-space_bottom-3",3,"routerLink"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"p"),d["\u0275\u0275text"](1,"settings works!"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](2,"button",0),d["\u0275\u0275text"](3," \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438\n"),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction1"](1,oe,t.routing.admin.settings.company)))},directives:[C.a,l.c],styles:[""]}),e})()},{path:"company",component:ne}];let ie=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.f.forChild(re)],l.f]}),e})();var se=n("PCNd");let le=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,se.a,ie,C.b,o.d,r.b,i.a,s.b]]}),e})()}}]);